==================
WARNING: ThreadSanitizer: data race (pid=27341)
  Write of size 4 at 0x7f8beab2c024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27350, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27348, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27341)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27346, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27341)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f8beac6d000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=27368, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27341)
  Read of size 4 at 0x00000164cc94 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T3 (tid=27350, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27368, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 4 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27342)
  Write of size 4 at 0x7f8beab2c034 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c034 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27349, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27347, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27342)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27345, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27342)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=27370, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27342)
  Read of size 4 at 0x00000164cc94 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T2 (tid=27347, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27370, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 4 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Write of size 4 at 0x7f8beab2c024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Write of size 4 at 0x00000164cc58 by thread T7:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27386, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x00000164dc90 by thread T9:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dc90 by thread T7:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dc90)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x00000164dcc0 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dcc0 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dcc0)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 4 at 0x7d300001de70 by thread T7 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d300001de70 by thread T9:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300001ddc0 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d200001bba0 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001bba0 by thread T9:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001bb80 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d040000ab28 by thread T7:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d040000ab28 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d040000ab20 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d600001fb50 by thread T7:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600001fb50 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600001f800 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d600001fb68 by thread T7:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:382:5 (httpd+0x0000005ae1ba)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600001fb68 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600001f800 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x00000164dd00 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd00 by thread T11:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd00)

  Thread T5 (tid=27378, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27385, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d2000013e08 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013e08 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013e00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d2000013e10 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013e10 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013e00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d2000013e18 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013e18 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013e00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d2000013e40 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013e40 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013e00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d0c0001ffe0 by thread T3:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001ffe0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001ffe0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d0c0001ffe8 by thread T3:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001ffe8 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001ffe0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d1000001c80 by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000001c80 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000001c80 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d1000001c97 by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000001c97 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000001c80 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d2000013e28 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013e28 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013e00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d0c0001fd10 by thread T3:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001fd10 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001fd10 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d0c0001fd18 by thread T3:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001fd18 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001fd10 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d18000ae060 by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000ae060 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000ae060 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d18000ae079 by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000ae079 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000ae060 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d2000013e30 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013e30 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013e00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d4400045ec0 by thread T3:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400045ec0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400045ec0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d4400045ec8 by thread T3:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400045ec8 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400045ec0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d600006f800 by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600006f800 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600006f800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d1c00012900 by thread T3:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00012900 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c000128a0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d1000019d02 by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000019d02 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000019d00 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d18000cbb97 by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000cbb97 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000cbb80 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d18000cbb98 by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000cbb98 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000cbb80 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d600007f819 by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600007f819 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600007f800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d600007f81a by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600007f81a by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600007f800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d2000013c38 by thread T8:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013c38 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013c00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d0400001be0 by thread T8:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400001be0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400001be0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d0400001be8 by thread T8:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400001be8 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400001be0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d0800008140 by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800008140 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800008140 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d3000035dd0 by thread T8:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000035dd0 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000035dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d3000035de8 by thread T8:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000035de8 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000035dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27382, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d0400003398 by thread T3:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d0400003398 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:893:9 (httpd+0x0000004c93df)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d0400003390 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d1c00011c50 by thread T3:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1c00011c50 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:901:9 (httpd+0x0000004c95d5)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00011bf0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d300003bcb0 by thread T3:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bcb0 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bc40 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d300003bc70 by thread T3:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bc70 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bc40 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d300003bca8 by thread T3:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bca8 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bc40 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d300003bca0 by thread T3:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bca0 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bc40 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d100000bd6f by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100000bd6f by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100000bd40 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27378, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d600001e96f by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600001e96f by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600001e800 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27378, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 8 at 0x7d600001eb48 by thread T5:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600001eb48 by thread T9:
    [failed to restore the stack]

  Location is heap block of size 919 at 0x7d600001e800 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27378, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27383, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 1 at 0x7d18000cbda0 by thread T3:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000cbda0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000cbd60 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27376, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27375, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27374, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=27386, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27372)
  Read of size 4 at 0x00000164cc94 by thread T7:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T7 (tid=27381, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27386, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=27372)
  Thread T12 (tid=27386, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165 apr_thread_create
==================
ThreadSanitizer: reported 53 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Write of size 4 at 0x7f8beab2c034 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c034 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27394, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27393, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x00000164dcd0 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dcd0 by thread T3:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dcd0)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27394, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x00000164dd00 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd00 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd00)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27394, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Write of size 4 at 0x00000164cc58 by thread T6:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27409, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 4 at 0x7d3000011db0 by thread T4 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d3000011db0 by thread T6:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011d00 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T4 (tid=27396, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d2000013b20 by thread T4:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013b20 by thread T6:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013b00 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=27396, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d2000013b08 by thread T4:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013b08 by thread T6:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013b00 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=27396, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d0400007bb8 by thread T4:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400007bb8 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d0400007bb0 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=27396, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d1c0001c4c0 by thread T4:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c0001c4c0 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c0001c460 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=27396, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x00000164dd10 by thread T3:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dd10 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd10)

  Thread T3 (tid=27394, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x00000164dd40 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd40 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd40)

  Thread T3 (tid=27394, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d200001fb90 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001fb90 by thread T11:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001fb80 allocated by thread T11:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d2000017b18 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017b18 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017b00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d2000017b40 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017b40 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017b00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d0c0001e7e0 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001e7e0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001e7e0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d0c0001e7e8 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001e7e8 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001e7e0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d100000bb42 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100000bb42 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100000bb40 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d100000bb6f by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d100000bb68 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100000bb40 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d2000017b28 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017b28 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017b00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d0c0001f110 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001f110 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001f110 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d0c0001f118 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001f118 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001f110 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d1800041f40 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800041f40 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800041f40 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d1800041f59 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1800041f59 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800041f40 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d2000017b30 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017b30 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017b00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d440001cfc0 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440001cfc0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440001cfc0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x7d440001cfc8 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440001cfc8 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440001cfc0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d600001f400 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600001f400 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600001f400 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d600001f750 by thread T9:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600001f750 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600001f400 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d1800041f80 by thread T9:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800041f80 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800041f40 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d60000afb68 by thread T5:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:382:5 (httpd+0x0000005ae1ba)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d60000afb68 by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d60000af800 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d1800074948 by thread T4:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800074948 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074940 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=27396, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 1 at 0x7d100001bcef by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100001bcef by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100001bcc0 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27406, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27404, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x00000164d950 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d950 by thread T6:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d950)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 8 at 0x00000164d980 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164d980 by thread T6:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d980)

  Thread T10 (tid=27407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27391, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=27409, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27387)
  Read of size 4 at 0x00000164cc94 by thread T8:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T8 (tid=27405, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27409, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=27387)
  Thread T12 (tid=27409, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165 apr_thread_create
==================
ThreadSanitizer: reported 38 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Write of size 4 at 0x7f8beab2c044 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c044 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27395, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x00000164dcd0 by thread T11:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dcd0 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dcd0)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27395, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x00000164dd00 by thread T11:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd00 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd00)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27395, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Write of size 4 at 0x00000164cc58 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27416, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 4 at 0x7d3000011e70 by thread T11 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d3000011e70 by thread T3:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011dc0 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d2000017c20 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c20 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d2000017c08 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c08 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d2000017c10 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c10 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d2000017c18 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c18 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d2000017c40 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c40 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d0c000128d0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c000128d0 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c000128d0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d0c000128d8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c000128d8 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c000128d0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d1000007d80 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000007d80 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000007d80 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d1000007daf by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000007daf by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000007d80 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d2000017c28 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c28 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d0c000124b0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c000124b0 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c000124b0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d0c000124b8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c000124b8 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c000124b0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d1800074ca0 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800074ca0 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074ca0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d1800074cda by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1800074cda by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074ca0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d2000017c30 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c30 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d4400027ec0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400027ec0 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400027ec0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d4400027ec8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400027ec8 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400027ec0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d600003f800 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600003f800 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003f800 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d600003f839 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600003f839 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003f800 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d600003f83a by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600003f83a by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003f800 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d2000017c38 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c38 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d0400007be0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400007be0 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400007be0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d0400007be8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400007be8 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400007be0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d0800009260 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800009260 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800009260 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x7d3000011dd0 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000011dd0 by thread T3:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011dc0 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d0400007bd8 by thread T11:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400007bd8 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d0400007bd0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27415, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x00000164cb68 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549:9 (httpd+0x0000004fa8c7)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164cb68 by thread T6:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:575:13 (httpd+0x0000004face0)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'request_time_cache' of size 160 at 0x00000164caf0 (httpd+0x00000164cb68)

  Thread T2 (tid=27395, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27410, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549 log_request_time
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x00000164dd10 by thread T9:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dd10 by thread T6:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd10)

  Thread T9 (tid=27413, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27410, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x00000164dd40 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd41 by thread T6:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd40)

  Thread T9 (tid=27413, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27410, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d1000001c01 by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000001c01 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000001c00 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27412, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27411, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d1c00011cc0 by thread T8:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00011cc0 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00011c60 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27412, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27411, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d1000007cb1 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000007cb1 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000007c80 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27411, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27397, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d600006f768 by thread T8:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:382:5 (httpd+0x0000005ae1ba)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600006f768 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600006f400 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27412, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27411, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d600008f59f by thread T2:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600008f59f by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f400 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27395, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27400, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x00000164d950 by thread T6:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d950 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d950)

  Thread T6 (tid=27410, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27414, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 8 at 0x00000164d980 by thread T6:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164d980 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d980)

  Thread T6 (tid=27410, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=27414, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 1 at 0x7d600008f750 by thread T2:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008f750 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f400 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27395, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27400, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27392, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f8beac6d000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=27416, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27389)
  Read of size 4 at 0x00000164cc94 by thread T7:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T7 (tid=27411, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27416, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 45 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Write of size 4 at 0x7f8beab2c054 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c054 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27430, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27429, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 8 at 0x00000164dd10 by thread T3:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dd10 by thread T8:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd10)

  Thread T3 (tid=27430, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 8 at 0x00000164dd40 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd40 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd40)

  Thread T3 (tid=27430, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Write of size 4 at 0x00000164cc58 by thread T8:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27455, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 4 at 0x7d3000017e70 by thread T8 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d3000017e70 by thread T7:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017dc0 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27450, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 8 at 0x7d200002bba0 by thread T8:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bba0 by thread T7:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bb80 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27450, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 8 at 0x7d200002bb88 by thread T8:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bb88 by thread T7:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bb80 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27450, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 1 at 0x7d04000093d8 by thread T8:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000093d8 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d04000093d0 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27450, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 1 at 0x7d1c00000530 by thread T8:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00000530 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c000004d0 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27450, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 1 at 0x7d600002f828 by thread T8:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600002f828 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600002f800 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27451, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=27450, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27425, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=27455, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27417)
  Read of size 4 at 0x00000164cc94 by thread T7:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T7 (tid=27450, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27455, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 13 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Write of size 4 at 0x7f8beab2c064 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c064 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Write of size 4 at 0x00000164cc58 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T3 (tid=27433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27475, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 4 at 0x7d3000029e70 by thread T9 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d3000029e70 by thread T2:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T9 (tid=27467, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 8 at 0x7d2000003c20 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003c20 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003c00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27467, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 1 at 0x7d180009bcb7 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180009bcb0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bca0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27467, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 1 at 0x7d04000063d8 by thread T9:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000063d8 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d04000063d0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27467, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 1 at 0x7d600004f828 by thread T9:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600004f828 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27467, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 1 at 0x7d600004fb50 by thread T9:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600004fb50 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27467, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 1 at 0x7d600004fb68 by thread T9:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:382:5 (httpd+0x0000005ae1ba)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600004fb68 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27467, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 1 at 0x7d180009bce0 by thread T9:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180009bce0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bca0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=27467, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27426, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=27475, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27419)
  Read of size 4 at 0x00000164cc94 by thread T8:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T8 (tid=27465, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27475, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=27419)
  Thread T12 (tid=27475, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165 apr_thread_create
==================
ThreadSanitizer: reported 14 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Write of size 4 at 0x7f8beab2c074 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c074 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27438, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Write of size 4 at 0x00000164cc58 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T3 (tid=27438, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27470, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 4 at 0x7d300001ddb0 by thread T8 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d300001ddb0 by thread T11:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300001dd00 allocated by thread T11:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27464, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d2000023c20 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023c20 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023c00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d2000023c08 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023c08 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023c00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x00000164d950 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d950 by thread T5:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d950)

  Thread T2 (tid=27436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27443, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x00000164d980 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164d981 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d980)

  Thread T2 (tid=27436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27443, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d2000023c10 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023c10 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023c00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d2000023c18 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023c18 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023c00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d2000023c40 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023c40 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023c00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d0c000338d0 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c000338d0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c000338d0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d0c000338d8 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c000338d8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c000338d0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d100001bdaf by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100001bdaf by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100001bd80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d2000023c28 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023c28 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023c00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d0c000334b0 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c000334b0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c000334b0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d0c000334b8 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c000334b8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c000334b0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d18000fecb7 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000fecb0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000feca0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d2000023c30 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023c30 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023c00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d440004fec0 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440004fec0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440004fec0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d440004fec8 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440004fec8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440004fec0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d600008f96f by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600008f96f by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d600008f970 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008f970 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d600008f9ef by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600008f9ef by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d600008f9f0 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008f9f0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d600008fb80 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008fb80 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d2000023c38 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023c38 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023c00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d04000003e0 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000003e0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d04000003e0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d04000003e8 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000003e8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d04000003e0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d0800004260 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800004260 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800004260 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d300002fdd0 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fdd0 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fdc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d04000003d0 by thread T6:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000003d0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d04000003d0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d300002fde8 by thread T6:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fde8 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fdc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d1c0002aa80 by thread T6:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c0002aa80 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c0002aa80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d300002fe30 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fe30 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fdc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d300002fdf0 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fdf0 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fdc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d300002fe28 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fe28 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fdc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d300002fe20 by thread T6:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fe20 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fdc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d600008fb38 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008fb38 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 8 at 0x7d600008fb48 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008fb48 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600008f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d18000fece0 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000fece0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000feca0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 1 at 0x7d18000feca8 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000feca8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000feca0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=27456, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=27458, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27427, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=27470, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27421)
  Read of size 4 at 0x00000164cc94 by thread T9:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T9 (tid=27459, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27470, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 44 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Write of size 4 at 0x7f8beab2c084 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c084 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27442, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27441, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 8 at 0x00000164dd10 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dd10 by thread T4:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd10)

  Thread T2 (tid=27441, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=27444, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 8 at 0x00000164dd40 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd40 by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd40)

  Thread T2 (tid=27441, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=27444, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Write of size 4 at 0x00000164cc58 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T3 (tid=27442, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27476, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 8 at 0x00000164d950 by thread T8:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d950 by thread T3:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d950)

  Thread T8 (tid=27468, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27442, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 8 at 0x00000164d980 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164d982 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d980)

  Thread T8 (tid=27468, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27442, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 4 at 0x7d300004ddb0 by thread T5 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d300004ddb0 by thread T11:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300004dd00 allocated by thread T11:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T5 (tid=27446, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27474, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 8 at 0x7d200001fb20 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001fb20 by thread T11:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001fb00 allocated by thread T11:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27446, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27474, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 8 at 0x7d200001fb08 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001fb08 by thread T11:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001fb00 allocated by thread T11:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27446, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27474, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 1 at 0x7d040001e3b8 by thread T5:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d040001e3b8 by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d040001e3b0 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27446, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27474, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 1 at 0x7d1c00026cc0 by thread T5:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00026cc0 by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00026c60 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=27446, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=27474, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=27428, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f8beac6d000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=27476, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=27423)
  Read of size 4 at 0x00000164cc94 by thread T6:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T6 (tid=27460, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=27476, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 14 warnings
==================
WARNING: ThreadSanitizer: data race (pid=27478)
  Write of size 4 at 0x7f8beab2c024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f8beab2c024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=27482, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=27481, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
