==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000207b2b8 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 process_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_alarm.c:324:3 (mysqld+0x000000d58d7c)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2799:7 (mysqld+0x000000783292)

  Previous write of size 8 at 0x00000207b2b8 by thread T3 (mutexes: write M560, write M559):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_alarm.c:167:3 (mysqld+0x000000d58f00)
    #2 my_real_read(st_net*, unsigned long*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/net_serv.cc:829:11 (mysqld+0x0000007690aa)
    #3 my_net_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/net_serv.cc:996:11 (mysqld+0x000000767e0b)
    #4 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:753:12 (mysqld+0x00000079c6fa)
    #5 login_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:955:10 (mysqld+0x00000079a933)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1107:9 (mysqld+0x00000079a5e2)

  Location is global 'LOCK_alarm' of size 104 at 0x00000207b268 (mysqld+0x00000207b2b8)

  Mutex M560 (0x00000207b290) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_alarm.c:78:3 (mysqld+0x000000d587dd)
    #3 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2686:3 (mysqld+0x000000782bcf)

  Mutex M559 (0x00000207b268) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_alarm.c:78:3 (mysqld+0x000000d587dd)
    #3 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2686:3 (mysqld+0x000000782bcf)

  Thread T2 (tid=18278, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2657:14 (mysqld+0x0000007895b1)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4380:3 (mysqld+0x000000784151)

  Thread T3 (tid=18281, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000207a2b0 by main thread (mutexes: write M495):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 plugin_thdvar_init(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_plugin.cc:2430:3 (mysqld+0x000000b991d6)
    #2 THD::init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:756:3 (mysqld+0x00000074d966)
    #3 THD::THD() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:638:3 (mysqld+0x00000074d314)
    #4 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5102:20 (mysqld+0x00000078a3ce)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Previous write of size 8 at 0x00000207a2b0 by thread T3:
    [failed to restore the stack]

  Location is global 'LOCK_plugin' of size 104 at 0x00000207a260 (mysqld+0x00000207a2b0)

  Mutex M495 (0x00000206ce48) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3520:10 (mysqld+0x00000078fe92)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T3 (tid=18281, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000207ceb8 by thread T4:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 my_thread_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_thr_init.c:294:3 (mysqld+0x000000d62f48)
    #2 init_new_connection_handler_thread() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:618:7 (mysqld+0x00000079a245)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1080:7 (mysqld+0x00000079a422)

  Previous write of size 8 at 0x00000207ceb8 by thread T3 (mutexes: write M446, write M445):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 my_thread_end /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_thr_init.c:357:5 (mysqld+0x000000d6356a)
    #2 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1919:3 (mysqld+0x000000781b26)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Location is global 'THR_LOCK_threads' of size 104 at 0x00000207ce68 (mysqld+0x00000207ceb8)

  Mutex M446 (0x00000207ce90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 my_thread_global_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_thr_init.c:149:3 (mysqld+0x000000d62c85)
    #3 my_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_init.c:81:7 (mysqld+0x000000cee1d1)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4215:3 (mysqld+0x000000783bf0)

  Mutex M445 (0x00000207ce68) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 my_thread_global_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_thr_init.c:149:3 (mysqld+0x000000d62c85)
    #3 my_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_init.c:81:7 (mysqld+0x000000cee1d1)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4215:3 (mysqld+0x000000783bf0)

  Thread T4 (tid=18285, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206ce70 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 THD::init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:755:3 (mysqld+0x00000074d95a)
    #2 THD::THD() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:638:3 (mysqld+0x00000074d314)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5102:20 (mysqld+0x00000078a3ce)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Previous write of size 8 at 0x00000206ce70 by thread T5 (mutexes: write M495, write M494):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 check_user(THD*, enum_server_command, char const*, unsigned int, char const*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:327:3 (mysqld+0x000000797ad2)
    #2 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:897:10 (mysqld+0x00000079d93c)
    #3 login_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:955:10 (mysqld+0x00000079a933)
    #4 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1107:9 (mysqld+0x00000079a5e2)

  Location is global 'LOCK_global_system_variables' of size 104 at 0x00000206ce20 (mysqld+0x00000206ce70)

  Mutex M495 (0x00000206ce48) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3520:10 (mysqld+0x00000078fe92)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M494 (0x00000206ce20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3520:10 (mysqld+0x00000078fe92)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d010 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4869:3 (mysqld+0x00000078ad88)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Previous write of size 8 at 0x00000206d010 by thread T5 (mutexes: write M504, write M503):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 check_user(THD*, enum_server_command, char const*, unsigned int, char const*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:405:9 (mysqld+0x0000007982b7)
    #2 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:897:10 (mysqld+0x00000079d93c)
    #3 login_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:955:10 (mysqld+0x00000079a933)
    #4 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1107:9 (mysqld+0x00000079a5e2)

  Location is global 'LOCK_connection_count' of size 104 at 0x00000206cfc0 (mysqld+0x00000206d010)

  Mutex M504 (0x00000206cfe8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3525:10 (mysqld+0x00000078ff54)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M503 (0x00000206cfc0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3525:10 (mysqld+0x00000078ff54)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T7:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T5:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T12:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T12 (tid=18293, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T14:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T10:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T8:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T9:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T9 (tid=18290, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T13:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T13 (tid=18294, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c990 by thread T11:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c990 by thread T6 (mutexes: write M469, write M468):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:972:3 (mysqld+0x00000079f46f)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000206c940 (mysqld+0x00000206c990)

  Mutex M469 (0x00000206c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M468 (0x00000206c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3507:10 (mysqld+0x00000078fc6f)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T11 (tid=18292, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206dac8 by thread T7:
    #0 check_stack_overrun(THD*, long, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5564:19 (mysqld+0x0000007c29d6)
    #1 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2527:7 (mysqld+0x000000856714)
    #2 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #3 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #4 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #5 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #6 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #7 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #8 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #9 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206dac8 by thread T6:
    #0 check_stack_overrun(THD*, long, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5564:17 (mysqld+0x0000007c2a5f)
    #1 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2527:7 (mysqld+0x000000856714)
    #2 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #3 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #4 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #5 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:4974:14 (mysqld+0x0000007be90a)
    #6 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #7 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #8 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #9 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #10 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #11 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #12 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'max_stack_used' of size 8 at 0x00000206dac8 (mysqld+0x00000206dac8)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5564:19 in check_stack_overrun(THD*, long, unsigned char*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T5:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T6:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T12:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T12 (tid=18293, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T14:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T10:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T8:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T9:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T9 (tid=18290, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T13:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T13 (tid=18294, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206cac8 by thread T11:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206cac8 by thread T7 (mutexes: write M498, write M497):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1487:10 (mysqld+0x00000077421d)
    #2 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #3 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_global_read_lock' of size 104 at 0x00000206ca78 (mysqld+0x00000206cac8)

  Mutex M498 (0x00000206caa0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M497 (0x00000206ca78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3522:10 (mysqld+0x00000078fed3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T11 (tid=18292, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c928 by thread T7:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2705:3 (mysqld+0x00000085771a)
    #2 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #3 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #4 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #5 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #6 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #7 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #8 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #9 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c928 by thread T6 (mutexes: write M467, write M466):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 close_open_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1190:3 (mysqld+0x00000084f04d)
    #2 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1347:5 (mysqld+0x00000084eb79)
    #3 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #4 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #5 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #6 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #7 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #8 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_open' of size 104 at 0x00000206c8d8 (mysqld+0x00000206c928)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M466 (0x00000206c8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206c928 by thread T5:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2705:3 (mysqld+0x00000085771a)
    #2 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #3 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #4 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #5 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #6 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #7 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #8 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #9 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206c928 by thread T6 (mutexes: write M467, write M466):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 close_open_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1190:3 (mysqld+0x00000084f04d)
    #2 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1347:5 (mysqld+0x00000084eb79)
    #3 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #4 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #5 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #6 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #7 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #8 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_open' of size 104 at 0x00000206c8d8 (mysqld+0x00000206c928)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M466 (0x00000206c8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 4 at 0x00000206c934 by thread T6 (mutexes: write M467, write M466):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:159:16 (mysqld+0x000000d617e0)
    #1 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2705:3 (mysqld+0x00000085771a)
    #2 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #3 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #4 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #5 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #6 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #7 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #8 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #9 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 4 at 0x00000206c934 by thread T8:
    #0 wait_if_global_read_lock(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:1485:3 (mysqld+0x000000774189)
    #1 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3500:32 (mysqld+0x0000007b1ffd)
    #2 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #3 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #4 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_open' of size 104 at 0x00000206c8d8 (mysqld+0x00000206c934)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M466 (0x00000206c8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:159:16 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 4 at 0x7d600001e2c8 by thread T14 (mutexes: write M467, write M689):
    #0 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:411:24 (mysqld+0x000000849afa)
    #1 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #2 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #3 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #4 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 4 at 0x7d600001e2c8 by thread T6:
    #0 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2944:3 (mysqld+0x000000858b6d)
    #1 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #2 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #3 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #4 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:4974:14 (mysqld+0x0000007be90a)
    #5 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #6 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #7 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #8 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 992 at 0x7d600001e000 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:201:30 (mysqld+0x000000d1412d)
    #3 multi_alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:264:24 (mysqld+0x000000d148c6)
    #4 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:284:7 (mysqld+0x000000874d14)
    #5 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #6 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M689 (0x7d600001e118) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:320:5 (mysqld+0x0000008750c2)
    #3 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #4 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #10 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #11 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #12 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #13 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #14 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #15 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:411:24 in get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 4 at 0x7d600001e2c8 by thread T6:
    #0 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2944:3 (mysqld+0x000000858b6d)
    #1 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #2 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #3 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #4 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:4974:14 (mysqld+0x0000007be90a)
    #5 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #6 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #7 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #8 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 4 at 0x7d600001e2c8 by thread T14 (mutexes: write M467, write M689):
    #0 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:411:24 (mysqld+0x000000849afa)
    #1 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #2 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #3 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #4 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 992 at 0x7d600001e000 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:201:30 (mysqld+0x000000d1412d)
    #3 multi_alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:264:24 (mysqld+0x000000d148c6)
    #4 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:284:7 (mysqld+0x000000874d14)
    #5 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #6 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M689 (0x7d600001e118) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:320:5 (mysqld+0x0000008750c2)
    #3 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #4 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #10 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #11 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #12 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #13 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #14 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #15 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2944:3 in open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000eab0 by thread T14 (mutexes: write M467, write M438):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:614:3 (mysqld+0x000000c10f9a)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000eab0 by thread T6 (mutexes: write M693, write M692):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 mi_lock_database /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:52:3 (mysqld+0x000000c41bff)
    #2 ha_myisam::external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1878:10 (mysqld+0x000000c094eb)
    #3 handler::ha_external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:4554:14 (mysqld+0x000000a3e223)
    #4 lock_external(THD*, st_table**, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:364:16 (mysqld+0x000000774971)
    #5 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:260:34 (mysqld+0x000000772ea1)
    #6 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #7 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #8 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #9 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #10 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #11 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #12 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #13 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M438 (0x00000207ce28) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 my_thread_global_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_thr_init.c:145:3 (mysqld+0x000000d62bd0)
    #3 my_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_init.c:81:7 (mysqld+0x000000cee1d1)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4215:3 (mysqld+0x000000783bf0)

  Mutex M693 (0x7d740000ea88) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:525:5 (mysqld+0x000000c1033c)
    #3 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #4 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #5 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #6 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #7 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #8 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #9 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #10 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #11 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #12 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #13 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M692 (0x7d740000ea60) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:525:5 (mysqld+0x000000c1033c)
    #3 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #4 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #5 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #6 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #7 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #8 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #9 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #10 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #11 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #12 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #13 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d740000e670 by thread T6 (mutexes: write M693):
    #0 mi_lock_database /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:99:23 (mysqld+0x000000c426f4)
    #1 ha_myisam::external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1878:10 (mysqld+0x000000c094eb)
    #2 handler::ha_external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:4554:14 (mysqld+0x000000a3e223)
    #3 unlock_external(THD*, st_table**, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:786:18 (mysqld+0x000000774d13)
    #4 mysql_unlock_tables(THD*, st_mysql_lock*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:391:5 (mysqld+0x000000774f48)
    #5 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1336:5 (mysqld+0x00000084eae6)
    #6 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d740000e670 by thread T14 (mutexes: write M467, write M438):
    #0 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:604:34 (mysqld+0x000000c10e7d)
    #1 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #2 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #3 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #4 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #5 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #6 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #7 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #8 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #9 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #10 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #11 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #12 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #13 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M693 (0x7d740000ea88) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:525:5 (mysqld+0x000000c1033c)
    #3 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #4 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #5 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #6 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #7 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #8 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #9 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #10 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #11 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #12 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #13 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M438 (0x00000207ce28) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 my_thread_global_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_thr_init.c:145:3 (mysqld+0x000000d62bd0)
    #3 my_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_init.c:81:7 (mysqld+0x000000cee1d1)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4215:3 (mysqld+0x000000783bf0)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:99:23 in mi_lock_database
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d740000e678 by thread T6 (mutexes: write M693):
    #0 mi_lock_database /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:100:29 (mysqld+0x000000c427ba)
    #1 ha_myisam::external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1878:10 (mysqld+0x000000c094eb)
    #2 handler::ha_external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:4554:14 (mysqld+0x000000a3e223)
    #3 unlock_external(THD*, st_table**, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:786:18 (mysqld+0x000000774d13)
    #4 mysql_unlock_tables(THD*, st_mysql_lock*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:391:5 (mysqld+0x000000774f48)
    #5 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1336:5 (mysqld+0x00000084eae6)
    #6 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d740000e678 by thread T14 (mutexes: write M467, write M438):
    #0 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:605:34 (mysqld+0x000000c10ebb)
    #1 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #2 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #3 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #4 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #5 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #6 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #7 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #8 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #9 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #10 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #11 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #12 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #13 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M693 (0x7d740000ea88) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:525:5 (mysqld+0x000000c1033c)
    #3 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #4 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #5 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #6 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #7 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #8 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #9 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #10 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #11 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #12 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #13 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M438 (0x00000207ce28) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 my_thread_global_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_thr_init.c:145:3 (mysqld+0x000000d62bd0)
    #3 my_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_init.c:81:7 (mysqld+0x000000cee1d1)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4215:3 (mysqld+0x000000783bf0)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:100:29 in mi_lock_database
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d600001e260 by thread T8 (mutexes: write M467, write M689):
    #0 Bitmap<64u>::set_prefix(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./sql_bitmap.h:121:10 (mysqld+0x0000007458c2)
    #1 ha_myisam::info(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1803:5 (mysqld+0x000000c08c46)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:717:3 (mysqld+0x000000c01377)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d600001e260 by thread T14:
    #0 memcpy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:677 (mysqld+0x000000547edb)
    #1 TABLE_LIST::process_index_hints(st_table*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:4664:34 (mysqld+0x00000088fced)
    #2 setup_tables(THD*, Name_resolution_context*, List<TABLE_LIST>*, TABLE_LIST*, TABLE_LIST**, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:7553:9 (mysqld+0x00000086a542)
    #3 setup_tables_and_check_access(THD*, Name_resolution_context*, List<TABLE_LIST>*, TABLE_LIST*, TABLE_LIST**, bool, unsigned long, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:7626:7 (mysqld+0x00000086acc3)
    #4 JOIN::prepare(Item***, TABLE_LIST*, unsigned int, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, st_select_lex*, st_select_lex_unit*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:483:7 (mysqld+0x0000008949f5)
    #5 mysql_select(THD*, Item***, TABLE_LIST*, unsigned int, List<Item>&, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, unsigned long long, select_result*, st_select_lex_unit*, st_select_lex*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2356:14 (mysqld+0x00000089364d)
    #6 handle_select(THD*, st_lex*, select_result*, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:256:10 (mysqld+0x000000893010)
    #7 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5009:12 (mysqld+0x0000007bec7d)
    #8 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #9 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #10 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #11 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 992 at 0x7d600001e000 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:201:30 (mysqld+0x000000d1412d)
    #3 multi_alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:264:24 (mysqld+0x000000d148c6)
    #4 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:284:7 (mysqld+0x000000874d14)
    #5 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #6 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M689 (0x7d600001e118) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:320:5 (mysqld+0x0000008750c2)
    #3 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #4 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #10 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #11 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #12 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #13 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #14 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #15 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./sql_bitmap.h:121:10 in Bitmap<64u>::set_prefix(unsigned int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d600001e268 by thread T8 (mutexes: write M467, write M689):
    #0 Bitmap<64u>::intersect(Bitmap<64u>&) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./sql_bitmap.h:125:41 (mysqld+0x0000005ebc10)
    #1 ha_myisam::info(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1805:5 (mysqld+0x000000c08c85)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:717:3 (mysqld+0x000000c01377)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d600001e268 by thread T14:
    #0 memcpy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:677 (mysqld+0x000000547edb)
    #1 setup_table_map(st_table*, TABLE_LIST*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:2402:23 (mysqld+0x000000872797)
    #2 setup_tables(THD*, Name_resolution_context*, List<TABLE_LIST>*, TABLE_LIST*, TABLE_LIST**, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:7552:5 (mysqld+0x00000086a52f)
    #3 setup_tables_and_check_access(THD*, Name_resolution_context*, List<TABLE_LIST>*, TABLE_LIST*, TABLE_LIST**, bool, unsigned long, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:7626:7 (mysqld+0x00000086acc3)
    #4 JOIN::prepare(Item***, TABLE_LIST*, unsigned int, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, st_select_lex*, st_select_lex_unit*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:483:7 (mysqld+0x0000008949f5)
    #5 mysql_select(THD*, Item***, TABLE_LIST*, unsigned int, List<Item>&, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, unsigned long long, select_result*, st_select_lex_unit*, st_select_lex*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2356:14 (mysqld+0x00000089364d)
    #6 handle_select(THD*, st_lex*, select_result*, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:256:10 (mysqld+0x000000893010)
    #7 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5009:12 (mysqld+0x0000007bec7d)
    #8 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #9 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #10 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #11 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 992 at 0x7d600001e000 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:201:30 (mysqld+0x000000d1412d)
    #3 multi_alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:264:24 (mysqld+0x000000d148c6)
    #4 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:284:7 (mysqld+0x000000874d14)
    #5 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #6 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M689 (0x7d600001e118) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:320:5 (mysqld+0x0000008750c2)
    #3 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #4 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #10 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #11 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #12 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #13 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #14 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #15 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./sql_bitmap.h:125:41 in Bitmap<64u>::intersect(Bitmap<64u>&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d600001e260 by thread T14:
    #0 memcpy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:677 (mysqld+0x000000547edb)
    #1 TABLE_LIST::process_index_hints(st_table*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:4664:34 (mysqld+0x00000088fced)
    #2 setup_tables(THD*, Name_resolution_context*, List<TABLE_LIST>*, TABLE_LIST*, TABLE_LIST**, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:7553:9 (mysqld+0x00000086a542)
    #3 setup_tables_and_check_access(THD*, Name_resolution_context*, List<TABLE_LIST>*, TABLE_LIST*, TABLE_LIST**, bool, unsigned long, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:7626:7 (mysqld+0x00000086acc3)
    #4 JOIN::prepare(Item***, TABLE_LIST*, unsigned int, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, st_select_lex*, st_select_lex_unit*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:483:7 (mysqld+0x0000008949f5)
    #5 mysql_select(THD*, Item***, TABLE_LIST*, unsigned int, List<Item>&, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, unsigned long long, select_result*, st_select_lex_unit*, st_select_lex*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2356:14 (mysqld+0x00000089364d)
    #6 handle_select(THD*, st_lex*, select_result*, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:256:10 (mysqld+0x000000893010)
    #7 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5009:12 (mysqld+0x0000007bec7d)
    #8 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #9 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #10 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #11 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d600001e260 by thread T8 (mutexes: write M467, write M689):
    #0 Bitmap<64u>::set_prefix(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./sql_bitmap.h:121:10 (mysqld+0x0000007458c2)
    #1 ha_myisam::info(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1803:5 (mysqld+0x000000c08c46)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:717:3 (mysqld+0x000000c01377)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 992 at 0x7d600001e000 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:201:30 (mysqld+0x000000d1412d)
    #3 multi_alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:264:24 (mysqld+0x000000d148c6)
    #4 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:284:7 (mysqld+0x000000874d14)
    #5 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #6 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M689 (0x7d600001e118) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:320:5 (mysqld+0x0000008750c2)
    #3 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #4 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #10 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #11 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #12 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #13 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #14 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #15 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:4664:34 in TABLE_LIST::process_index_hints(st_table*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 4 at 0x7d740000e94c by thread T8 (mutexes: write M693):
    #0 mi_lock_database /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:233:23 (mysqld+0x000000c438cc)
    #1 ha_myisam::external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1878:10 (mysqld+0x000000c094eb)
    #2 handler::ha_external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:4554:14 (mysqld+0x000000a3e223)
    #3 lock_external(THD*, st_table**, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:364:16 (mysqld+0x000000774971)
    #4 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:260:34 (mysqld+0x000000772ea1)
    #5 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #6 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #7 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #8 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #9 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #10 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #11 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #12 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 4 at 0x7d740000e94c by thread T14:
    #0 _mi_read_static_record /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_statrec.c:183:5 (mysqld+0x000000c48209)
    #1 mi_rkey /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_rkey.c:173:8 (mysqld+0x000000c268ec)
    #2 ha_myisam::index_read_idx_map(unsigned char*, unsigned int, unsigned char const*, unsigned long, ha_rkey_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1671:13 (mysqld+0x000000c07b6a)
    #3 join_read_const(st_join_table*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:11576:13 (mysqld+0x0000008e6848)
    #4 join_read_const_table(st_join_table*, st_position*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:11478:11 (mysqld+0x0000008de042)
    #5 make_join_statistics(JOIN*, TABLE_LIST*, Item*, st_dynamic_array*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2753:19 (mysqld+0x0000008a4194)
    #6 JOIN::optimize() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:954:7 (mysqld+0x000000899d22)
    #7 mysql_select(THD*, Item***, TABLE_LIST*, unsigned int, List<Item>&, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, unsigned long long, select_result*, st_select_lex_unit*, st_select_lex*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2364:13 (mysqld+0x000000893684)
    #8 handle_select(THD*, st_lex*, select_result*, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:256:10 (mysqld+0x000000893010)
    #9 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5009:12 (mysqld+0x0000007bec7d)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #11 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #12 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #13 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M693 (0x7d740000ea88) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:525:5 (mysqld+0x000000c1033c)
    #3 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #4 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #5 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #6 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #7 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #8 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #9 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #10 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #11 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #12 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #13 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:233:23 in mi_lock_database
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 4 at 0x7d740000e94c by thread T14:
    #0 _mi_read_static_record /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_statrec.c:183:5 (mysqld+0x000000c48209)
    #1 mi_rkey /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_rkey.c:173:8 (mysqld+0x000000c268ec)
    #2 ha_myisam::index_read_idx_map(unsigned char*, unsigned int, unsigned char const*, unsigned long, ha_rkey_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1671:13 (mysqld+0x000000c07b6a)
    #3 join_read_const(st_join_table*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:11576:13 (mysqld+0x0000008e6848)
    #4 join_read_const_table(st_join_table*, st_position*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:11478:11 (mysqld+0x0000008de042)
    #5 make_join_statistics(JOIN*, TABLE_LIST*, Item*, st_dynamic_array*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2753:19 (mysqld+0x0000008a4194)
    #6 JOIN::optimize() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:954:7 (mysqld+0x000000899d22)
    #7 mysql_select(THD*, Item***, TABLE_LIST*, unsigned int, List<Item>&, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, unsigned long long, select_result*, st_select_lex_unit*, st_select_lex*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2364:13 (mysqld+0x000000893684)
    #8 handle_select(THD*, st_lex*, select_result*, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:256:10 (mysqld+0x000000893010)
    #9 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5009:12 (mysqld+0x0000007bec7d)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #11 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #12 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #13 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 4 at 0x7d740000e94c by thread T8 (mutexes: write M693):
    #0 mi_lock_database /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:233:23 (mysqld+0x000000c438cc)
    #1 ha_myisam::external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1878:10 (mysqld+0x000000c094eb)
    #2 handler::ha_external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:4554:14 (mysqld+0x000000a3e223)
    #3 lock_external(THD*, st_table**, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:364:16 (mysqld+0x000000774971)
    #4 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:260:34 (mysqld+0x000000772ea1)
    #5 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #6 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #7 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #8 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #9 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #10 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #11 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #12 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M693 (0x7d740000ea88) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:525:5 (mysqld+0x000000c1033c)
    #3 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #4 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #5 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #6 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #7 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #8 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #9 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #10 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #11 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #12 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #13 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_statrec.c:183:5 in _mi_read_static_record
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000e9d0 by thread T8:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000e9d0 by thread T14 (mutexes: write M691, write M690):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M690 (0x7d740000e980) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000e9d0 by thread T9:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000e9d0 by thread T14 (mutexes: write M691, write M690):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M690 (0x7d740000e980) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T9 (tid=18290, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000e9d0 by thread T13:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000e9d0 by thread T14 (mutexes: write M691, write M690):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M690 (0x7d740000e980) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T13 (tid=18294, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000e9d0 by thread T11:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000e9d0 by thread T14 (mutexes: write M691, write M690):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M690 (0x7d740000e980) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T11 (tid=18292, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000e9d0 by thread T7:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000e9d0 by thread T14 (mutexes: write M691, write M690):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M690 (0x7d740000e980) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000e9d0 by thread T5:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000e9d0 by thread T14 (mutexes: write M691, write M690):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M690 (0x7d740000e980) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000e9d0 by thread T12:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000e9d0 by thread T14 (mutexes: write M691, write M690):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M690 (0x7d740000e980) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T12 (tid=18293, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 4 at 0x7d600001e3b8 by thread T6 (mutexes: write M467):
    #0 bitmap_is_set_all /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_bitmap.c:299:23 (mysqld+0x000000d4a00b)
    #1 handler::ha_reset() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:4571:3 (mysqld+0x000000a3e464)
    #2 close_thread_table(THD*, st_table**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1403:5 (mysqld+0x00000084f783)
    #3 close_open_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1195:23 (mysqld+0x00000084f0ec)
    #4 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1347:5 (mysqld+0x00000084eb79)
    #5 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #6 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #7 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #8 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #9 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #10 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 1 at 0x7d600001e3b8 by thread T14:
    #0 bitmap_is_set(st_bitmap const*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/../include/my_bitmap.h:141:10 (mysqld+0x000000700490)
    #1 Field_long::store(long long, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/field.cc:3616:3 (mysqld+0x00000070f1cf)
    #2 Item_param::save_in_field(Field*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/item.cc:2861:12 (mysqld+0x0000005cc861)
    #3 store_key_item::copy_inner() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./sql_select.h:687:14 (mysqld+0x0000008fcda4)
    #4 store_key::copy() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./sql_select.h:618:13 (mysqld+0x0000006e46e6)
    #5 create_ref_for_key(JOIN*, st_join_table*, keyuse_t*, unsigned long long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:5599:2 (mysqld+0x0000008df788)
    #6 make_join_statistics(JOIN*, TABLE_LIST*, Item*, st_dynamic_array*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2750:14 (mysqld+0x0000008a4130)
    #7 JOIN::optimize() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:954:7 (mysqld+0x000000899d22)
    #8 mysql_select(THD*, Item***, TABLE_LIST*, unsigned int, List<Item>&, Item*, unsigned int, st_order*, st_order*, Item*, st_order*, unsigned long long, select_result*, st_select_lex_unit*, st_select_lex*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:2364:13 (mysqld+0x000000893684)
    #9 handle_select(THD*, st_lex*, select_result*, unsigned long) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_select.cc:256:10 (mysqld+0x000000893010)
    #10 execute_sqlcom_select(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5009:12 (mysqld+0x0000007bec7d)
    #11 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:2211:10 (mysqld+0x0000007a9a03)
    #12 Prepared_statement::execute(String*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3568:14 (mysqld+0x000000924fa4)
    #13 Prepared_statement::execute_loop(String*, bool, unsigned char*, unsigned char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3241:10 (mysqld+0x00000091facd)
    #14 mysql_stmt_execute(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2462:3 (mysqld+0x00000091f71b)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1171:5 (mysqld+0x0000007a06a2)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 992 at 0x7d600001e000 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:201:30 (mysqld+0x000000d1412d)
    #3 multi_alloc_root /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_alloc.c:264:24 (mysqld+0x000000d148c6)
    #4 alloc_table_share(TABLE_LIST*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:284:7 (mysqld+0x000000874d14)
    #5 get_table_share(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:346:16 (mysqld+0x00000084956a)
    #6 get_table_share_with_create(THD*, TABLE_LIST*, char*, unsigned int, unsigned int, int*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:456:10 (mysqld+0x00000086ed96)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3837:16 (mysqld+0x000000854892)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_bitmap.c:299:23 in bitmap_is_set_all
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x7d740000e9d0 by thread T10:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x7d740000e9d0 by thread T14 (mutexes: write M691, write M690):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 thr_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:503:3 (mysqld+0x000000d5a8e5)
    #2 thr_multi_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:973:39 (mysqld+0x000000d5e4b1)
    #3 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:276:39 (mysqld+0x0000007731c4)
    #4 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #5 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #6 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M690 (0x7d740000e980) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d740000e618 by thread T14 (mutexes: write M691):
    #0 memcpy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:677 (mysqld+0x000000547edb)
    #1 mi_update_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 (mysqld+0x000000c445ec)
    #2 thr_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:790:7 (mysqld+0x000000d5d135)
    #3 thr_multi_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:1050:7 (mysqld+0x000000d5ef0e)
    #4 mysql_unlock_tables(THD*, st_mysql_lock*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:389:5 (mysqld+0x000000774ecf)
    #5 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1336:5 (mysqld+0x00000084eae6)
    #6 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d740000e618 by thread T10 (mutexes: write M467):
    #0 mi_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_info.c:52:33 (mysqld+0x000000c24706)
    #1 ha_myisam::info(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1779:10 (mysqld+0x000000c088a1)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:717:3 (mysqld+0x000000c01377)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 in mi_update_status
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 4 at 0x7d740000e944 by thread T6:
    #0 mi_lock_database /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:34:3 (mysqld+0x000000c41920)
    #1 ha_myisam::external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1878:10 (mysqld+0x000000c094eb)
    #2 handler::ha_external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:4554:14 (mysqld+0x000000a3e223)
    #3 lock_external(THD*, st_table**, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:364:16 (mysqld+0x000000774971)
    #4 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:260:34 (mysqld+0x000000772ea1)
    #5 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #6 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #7 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #8 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #9 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #10 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #11 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #12 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 4 at 0x7d740000e944 by thread T10 (mutexes: write M693):
    #0 mi_lock_database /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:232:21 (mysqld+0x000000c43881)
    #1 ha_myisam::external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1878:10 (mysqld+0x000000c094eb)
    #2 handler::ha_external_lock(THD*, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:4554:14 (mysqld+0x000000a3e223)
    #3 lock_external(THD*, st_table**, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:364:16 (mysqld+0x000000774971)
    #4 mysql_lock_tables(THD*, st_table**, unsigned int, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:260:34 (mysqld+0x000000772ea1)
    #5 lock_tables(THD*, TABLE_LIST*, unsigned int, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:5287:23 (mysqld+0x0000008605dd)
    #6 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4985:10 (mysqld+0x00000085fe7d)
    #7 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #8 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #9 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #10 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #11 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #12 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M693 (0x7d740000ea88) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:525:5 (mysqld+0x000000c1033c)
    #3 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #4 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #5 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #6 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #7 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #8 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #9 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #10 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #11 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #12 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #13 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #14 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #15 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #16 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:34:3 in mi_lock_database
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d740000e620 by thread T14 (mutexes: write M691):
    #0 memcpy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:677 (mysqld+0x000000547edb)
    #1 mi_update_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 (mysqld+0x000000c445ec)
    #2 thr_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:790:7 (mysqld+0x000000d5d135)
    #3 thr_multi_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:1050:7 (mysqld+0x000000d5ef0e)
    #4 mysql_unlock_tables(THD*, st_mysql_lock*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:389:5 (mysqld+0x000000774ecf)
    #5 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1336:5 (mysqld+0x00000084eae6)
    #6 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d740000e620 by thread T10 (mutexes: write M467):
    #0 mi_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_info.c:53:33 (mysqld+0x000000c2477f)
    #1 ha_myisam::info(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1779:10 (mysqld+0x000000c088a1)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:717:3 (mysqld+0x000000c01377)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 in mi_update_status
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d740000e628 by thread T14 (mutexes: write M691):
    #0 memcpy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:677 (mysqld+0x000000547edb)
    #1 mi_update_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 (mysqld+0x000000c445ec)
    #2 thr_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:790:7 (mysqld+0x000000d5d135)
    #3 thr_multi_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:1050:7 (mysqld+0x000000d5ef0e)
    #4 mysql_unlock_tables(THD*, st_mysql_lock*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:389:5 (mysqld+0x000000774ecf)
    #5 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1336:5 (mysqld+0x00000084eae6)
    #6 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d740000e628 by thread T10 (mutexes: write M467):
    #0 mi_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_info.c:54:37 (mysqld+0x000000c247fe)
    #1 ha_myisam::info(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1779:10 (mysqld+0x000000c088a1)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:717:3 (mysqld+0x000000c01377)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 in mi_update_status
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d740000e638 by thread T14 (mutexes: write M691):
    #0 memcpy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:677 (mysqld+0x000000547edb)
    #1 mi_update_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 (mysqld+0x000000c445ec)
    #2 thr_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:790:7 (mysqld+0x000000d5d135)
    #3 thr_multi_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:1050:7 (mysqld+0x000000d5ef0e)
    #4 mysql_unlock_tables(THD*, st_mysql_lock*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:389:5 (mysqld+0x000000774ecf)
    #5 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1336:5 (mysqld+0x00000084eae6)
    #6 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d740000e638 by thread T10 (mutexes: write M467):
    #0 mi_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_info.c:56:39 (mysqld+0x000000c248fc)
    #1 ha_myisam::info(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1779:10 (mysqld+0x000000c088a1)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:717:3 (mysqld+0x000000c01377)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 in mi_update_status
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x7d740000e640 by thread T14 (mutexes: write M691):
    #0 memcpy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:677 (mysqld+0x000000547edb)
    #1 mi_update_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 (mysqld+0x000000c445ec)
    #2 thr_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:790:7 (mysqld+0x000000d5d135)
    #3 thr_multi_unlock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:1050:7 (mysqld+0x000000d5ef0e)
    #4 mysql_unlock_tables(THD*, st_mysql_lock*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/lock.cc:389:5 (mysqld+0x000000774ecf)
    #5 close_thread_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:1336:5 (mysqld+0x00000084eae6)
    #6 unlock_locked_tables(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:143:5 (mysqld+0x0000007c0d8f)
    #7 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3481:5 (mysqld+0x0000007b1df1)
    #8 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #9 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #10 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #11 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous read of size 8 at 0x7d740000e640 by thread T10 (mutexes: write M467):
    #0 mi_status /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_info.c:55:39 (mysqld+0x000000c2487d)
    #1 ha_myisam::info(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:1779:10 (mysqld+0x000000c088a1)
    #2 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:717:3 (mysqld+0x000000c01377)
    #3 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #4 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #5 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #6 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #7 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #8 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #9 simple_open_n_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1550:10 (mysqld+0x0000007ca87a)
    #10 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3505:16 (mysqld+0x0000007b20cb)
    #11 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #12 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #13 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #14 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is heap block of size 2304 at 0x7d740000e600 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000053b31f)
    #1 my_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_malloc.c:34:23 (mysqld+0x000000d12257)
    #2 my_multi_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/mulalloc.c:50:24 (mysqld+0x000000d13214)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:294:10 (mysqld+0x000000c0d325)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M691 (0x7d740000e9a8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 thr_lock_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_lock.c:319:3 (mysqld+0x000000d5a2be)
    #3 mi_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_open.c:524:5 (mysqld+0x000000c102ff)
    #4 ha_myisam::open(char const*, int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/ha_myisam.cc:690:14 (mysqld+0x000000c00e98)
    #5 handler::ha_open(st_table*, char const*, int, int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/handler.cc:2047:14 (mysqld+0x000000a34785)
    #6 open_table_from_share(THD*, st_table_share*, char const*, unsigned int, unsigned int, unsigned int, st_table*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/table.cc:1873:19 (mysqld+0x0000008814ce)
    #7 open_unireg_entry(THD*, st_table*, TABLE_LIST*, char const*, char*, unsigned int, st_mem_root*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:3903:18 (mysqld+0x000000854dcf)
    #8 open_table(THD*, TABLE_LIST*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:2906:12 (mysqld+0x000000858761)
    #9 open_tables(THD*, TABLE_LIST**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4570:24 (mysqld+0x00000085d15b)
    #10 open_and_lock_tables_derived(THD*, TABLE_LIST*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_base.cc:4976:9 (mysqld+0x00000085fd4e)
    #11 open_and_lock_tables(THD*, TABLE_LIST*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/./mysql_priv.h:1555:10 (mysqld+0x0000007ca3bd)
    #12 mysql_insert(THD*, TABLE_LIST*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_insert.cc:613:9 (mysqld+0x0000008ffd0c)
    #13 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:3142:10 (mysqld+0x0000007af6e6)
    #14 mysql_parse(THD*, char const*, unsigned int, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:5929:11 (mysqld+0x0000007a4326)
    #15 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1216:5 (mysqld+0x0000007a0b0c)
    #16 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #17 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Mutex M467 (0x00000206c900) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3506:10 (mysqld+0x00000078fc44)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T3 (tid=18281, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/storage/myisam/mi_locking.c:323:27 in mi_update_status
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T8:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T8 (tid=18289, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T14:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T14 (tid=18295, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T12:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T12 (tid=18293, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T7:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T7 (tid=18288, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T13:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T13 (tid=18294, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T6:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T11:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T11 (tid=18292, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T10:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206d078 by thread T9:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Previous write of size 8 at 0x00000206d078 by thread T5 (mutexes: write M500, write M499):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 Statement_map::erase(Statement*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:2540:3 (mysqld+0x000000759946)
    #2 Prepared_statement::deallocate() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:3628:3 (mysqld+0x00000091e3ec)
    #3 mysql_stmt_close(THD*, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_prepare.cc:2655:3 (mysqld+0x000000920b8f)
    #4 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1191:5 (mysqld+0x0000007a078d)
    #5 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #6 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'LOCK_prepared_stmt_count' of size 104 at 0x00000206d028 (mysqld+0x00000206d078)

  Mutex M500 (0x00000206d050) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Mutex M499 (0x00000206d028) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3523:10 (mysqld+0x00000078fefe)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3173:7 (mysqld+0x000000784a0b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4255:7 (mysqld+0x000000783c68)

  Thread T9 (tid=18290, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T5 (tid=18286, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206a658 by thread T11:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 xid_cache_delete(st_xid_state*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3144:3 (mysqld+0x00000074eeef)
    #2 THD::cleanup() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:865:5 (mysqld+0x00000074eab6)
    #3 unlink_thd(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1823:3 (mysqld+0x000000781903)
    #4 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1910:3 (mysqld+0x000000781a88)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Previous write of size 8 at 0x00000206a658 by thread T13 (mutexes: write M550, write M549):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 xid_cache_delete(st_xid_state*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3144:3 (mysqld+0x00000074eeef)
    #2 THD::cleanup() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:865:5 (mysqld+0x00000074eab6)
    #3 unlink_thd(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1823:3 (mysqld+0x000000781903)
    #4 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1910:3 (mysqld+0x000000781a88)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Location is global 'LOCK_xid_cache' of size 104 at 0x00000206a608 (mysqld+0x00000206a658)

  Mutex M550 (0x00000206a630) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 xid_cache_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3087:3 (mysqld+0x00000075c258)
    #3 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3739:7 (mysqld+0x000000787949)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4354:7 (mysqld+0x0000007840c8)

  Mutex M549 (0x00000206a608) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 xid_cache_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3087:3 (mysqld+0x00000075c258)
    #3 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3739:7 (mysqld+0x000000787949)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4354:7 (mysqld+0x0000007840c8)

  Thread T11 (tid=18292, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T13 (tid=18294, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206a658 by thread T12:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 xid_cache_delete(st_xid_state*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3144:3 (mysqld+0x00000074eeef)
    #2 THD::cleanup() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:865:5 (mysqld+0x00000074eab6)
    #3 unlink_thd(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1823:3 (mysqld+0x000000781903)
    #4 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1910:3 (mysqld+0x000000781a88)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Previous write of size 8 at 0x00000206a658 by thread T9 (mutexes: write M550, write M549):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 xid_cache_delete(st_xid_state*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3144:3 (mysqld+0x00000074eeef)
    #2 THD::cleanup() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:865:5 (mysqld+0x00000074eab6)
    #3 unlink_thd(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1823:3 (mysqld+0x000000781903)
    #4 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1910:3 (mysqld+0x000000781a88)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Location is global 'LOCK_xid_cache' of size 104 at 0x00000206a608 (mysqld+0x00000206a658)

  Mutex M550 (0x00000206a630) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 xid_cache_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3087:3 (mysqld+0x00000075c258)
    #3 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3739:7 (mysqld+0x000000787949)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4354:7 (mysqld+0x0000007840c8)

  Mutex M549 (0x00000206a608) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 xid_cache_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3087:3 (mysqld+0x00000075c258)
    #3 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3739:7 (mysqld+0x000000787949)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4354:7 (mysqld+0x0000007840c8)

  Thread T12 (tid=18293, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T9 (tid=18290, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206a658 by thread T6:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 xid_cache_delete(st_xid_state*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3144:3 (mysqld+0x00000074eeef)
    #2 THD::cleanup() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:865:5 (mysqld+0x00000074eab6)
    #3 unlink_thd(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1823:3 (mysqld+0x000000781903)
    #4 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1910:3 (mysqld+0x000000781a88)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Previous write of size 8 at 0x00000206a658 by thread T9 (mutexes: write M550, write M549):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 xid_cache_delete(st_xid_state*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3144:3 (mysqld+0x00000074eeef)
    #2 THD::cleanup() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:865:5 (mysqld+0x00000074eab6)
    #3 unlink_thd(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1823:3 (mysqld+0x000000781903)
    #4 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1910:3 (mysqld+0x000000781a88)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Location is global 'LOCK_xid_cache' of size 104 at 0x00000206a608 (mysqld+0x00000206a658)

  Mutex M550 (0x00000206a630) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 xid_cache_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3087:3 (mysqld+0x00000075c258)
    #3 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3739:7 (mysqld+0x000000787949)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4354:7 (mysqld+0x0000007840c8)

  Mutex M549 (0x00000206a608) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 xid_cache_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3087:3 (mysqld+0x00000075c258)
    #3 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3739:7 (mysqld+0x000000787949)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4354:7 (mysqld+0x0000007840c8)

  Thread T6 (tid=18287, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T9 (tid=18290, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x00000206a658 by thread T10:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 (mysqld+0x000000d614aa)
    #1 xid_cache_delete(st_xid_state*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3144:3 (mysqld+0x00000074eeef)
    #2 THD::cleanup() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:865:5 (mysqld+0x00000074eab6)
    #3 unlink_thd(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1823:3 (mysqld+0x000000781903)
    #4 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1910:3 (mysqld+0x000000781a88)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Previous write of size 8 at 0x00000206a658 by thread T9 (mutexes: write M550, write M549):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:166:11 (mysqld+0x000000d61886)
    #1 xid_cache_delete(st_xid_state*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3144:3 (mysqld+0x00000074eeef)
    #2 THD::cleanup() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:865:5 (mysqld+0x00000074eab6)
    #3 unlink_thd(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1823:3 (mysqld+0x000000781903)
    #4 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1910:3 (mysqld+0x000000781a88)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Location is global 'LOCK_xid_cache' of size 104 at 0x00000206a608 (mysqld+0x00000206a658)

  Mutex M550 (0x00000206a630) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 xid_cache_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3087:3 (mysqld+0x00000075c258)
    #3 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3739:7 (mysqld+0x000000787949)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4354:7 (mysqld+0x0000007840c8)

  Mutex M549 (0x00000206a608) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:60:3 (mysqld+0x000000d6137f)
    #2 xid_cache_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_class.cc:3087:3 (mysqld+0x00000075c258)
    #3 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:3739:7 (mysqld+0x000000787949)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4354:7 (mysqld+0x0000007840c8)

  Thread T10 (tid=18291, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Thread T9 (tid=18290, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:97:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x000002073670 by thread T2 (mutexes: write M459):
    #0 LOGGER::init_general_log(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1117:32 (mysqld+0x000000951231)
    #1 LOGGER::set_handlers(unsigned int, unsigned int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1246:3 (mysqld+0x000000951d00)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2754:7 (mysqld+0x000000782f78)

  Previous read of size 8 at 0x000002073670 by thread T15:
    #0 LOGGER::log_command(THD*, enum_server_command) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:4112:7 (mysqld+0x00000095b968)
    #1 general_log_print(THD*, enum_server_command, char const*, ...) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:4138:9 (mysqld+0x00000095bbc6)
    #2 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:1333:5 (mysqld+0x0000007a17fb)
    #3 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_parse.cc:857:17 (mysqld+0x0000007a5192)
    #4 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1115:11 (mysqld+0x00000079a6e6)

  Location is global 'logger' of size 184 at 0x0000020735e0 (mysqld+0x000002073670)

  Mutex M459 (0x0000020735e0) created at:
    #0 pthread_rwlock_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1260 (mysqld+0x000000521563)
    #1 LOGGER::init_base() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:888:3 (mysqld+0x00000094fd0e)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4229:3 (mysqld+0x000000783c48)

  Thread T2 (tid=18278, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2657:14 (mysqld+0x0000007895b1)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4380:3 (mysqld+0x000000784151)

  Thread T15 (tid=18308, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1117:32 in LOGGER::init_general_log(unsigned int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 1 at 0x00000206a879 by thread T2:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2759:12 (mysqld+0x00000078300c)

  Previous read of size 1 at 0x00000206a879 by main thread:
    #0 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4964:11 (mysqld+0x000000789eb5)
    #1 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

  Location is global 'abort_loop' of size 1 at 0x00000206a879 (mysqld+0x00000206a879)

  Thread T2 (tid=18278, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2657:14 (mysqld+0x0000007895b1)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4380:3 (mysqld+0x000000784151)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2759:12 in signal_hand
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x000002073630 by thread T16:
    #0 LOGGER::error_log_print(loglevel, char const*, __va_list_tag*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:833:50 (mysqld+0x00000094f896)
    #1 error_log_print(loglevel, char const*, __va_list_tag*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:4092:10 (mysqld+0x00000095b84e)
    #2 sql_print_information(char const*, ...) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:4836:3 (mysqld+0x00000094938a)
    #3 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1113:5 (mysqld+0x00000078034d)
    #4 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1155:3 (mysqld+0x0000007800d0)

  Previous write of size 8 at 0x000002073630 by thread T2 (mutexes: write M459):
    #0 LOGGER::init_error_log(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1075:30 (mysqld+0x00000094fde9)
    #1 LOGGER::set_handlers(unsigned int, unsigned int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1244:3 (mysqld+0x000000951ce8)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2754:7 (mysqld+0x000000782f78)

  Location is global 'logger' of size 184 at 0x0000020735e0 (mysqld+0x000002073630)

  Mutex M459 (0x0000020735e0) created at:
    #0 pthread_rwlock_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1260 (mysqld+0x000000521563)
    #1 LOGGER::init_base() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:888:3 (mysqld+0x00000094fd0e)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4229:3 (mysqld+0x000000783c48)

  Thread T16 (tid=18311, running) created by thread T2 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2764:6 (mysqld+0x00000078307a)

  Thread T2 (tid=18278, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2657:14 (mysqld+0x0000007895b1)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4380:3 (mysqld+0x000000784151)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:833:50 in LOGGER::error_log_print(loglevel, char const*, __va_list_tag*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Read of size 8 at 0x000002073638 by thread T16:
    #0 LOGGER::error_log_print(loglevel, char const*, __va_list_tag*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:833:50 (mysqld+0x00000094f896)
    #1 error_log_print(loglevel, char const*, __va_list_tag*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:4092:10 (mysqld+0x00000095b84e)
    #2 sql_print_information(char const*, ...) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:4836:3 (mysqld+0x00000094938a)
    #3 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1113:5 (mysqld+0x00000078034d)
    #4 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1155:3 (mysqld+0x0000007800d0)

  Previous write of size 8 at 0x000002073638 by thread T2 (mutexes: write M459):
    #0 LOGGER::init_error_log(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1076:30 (mysqld+0x00000094fe05)
    #1 LOGGER::set_handlers(unsigned int, unsigned int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1244:3 (mysqld+0x000000951ce8)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2754:7 (mysqld+0x000000782f78)

  Location is global 'logger' of size 184 at 0x0000020735e0 (mysqld+0x000002073638)

  Mutex M459 (0x0000020735e0) created at:
    #0 pthread_rwlock_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1260 (mysqld+0x000000521563)
    #1 LOGGER::init_base() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:888:3 (mysqld+0x00000094fd0e)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4229:3 (mysqld+0x000000783c48)

  Thread T16 (tid=18311, running) created by thread T2 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2764:6 (mysqld+0x00000078307a)

  Thread T2 (tid=18278, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2657:14 (mysqld+0x0000007895b1)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4380:3 (mysqld+0x000000784151)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:833:50 in LOGGER::error_log_print(loglevel, char const*, __va_list_tag*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 4 at 0x00000206d684 by thread T16:
    #0 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1223:19 (mysqld+0x000000780617)
    #1 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1192:3 (mysqld+0x000000780596)
    #2 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1134:5 (mysqld+0x0000007803ea)
    #3 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1155:3 (mysqld+0x0000007800d0)

  Previous read of size 4 at 0x00000206d684 by thread T2:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2739:9 (mysqld+0x000000782e20)

  Location is global 'cleanup_done' of size 4 at 0x00000206d684 (mysqld+0x00000206d684)

  Thread T16 (tid=18311, running) created by thread T2 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2764:6 (mysqld+0x00000078307a)

  Thread T2 (tid=18278, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2657:14 (mysqld+0x0000007895b1)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4380:3 (mysqld+0x000000784151)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1223:19 in clean_up(bool)
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x000002073628 by thread T16:
    #0 LOGGER::cleanup_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:861:21 (mysqld+0x00000094fbc7)
    #1 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1322:3 (mysqld+0x000000780b65)
    #2 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1192:3 (mysqld+0x000000780596)
    #3 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1134:5 (mysqld+0x0000007803ea)
    #4 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1155:3 (mysqld+0x0000007800d0)

  Previous read of size 8 at 0x000002073628 by thread T2 (mutexes: write M459):
    #0 LOGGER::init_error_log(unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1075:32 (mysqld+0x00000094fdd1)
    #1 LOGGER::set_handlers(unsigned int, unsigned int, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:1244:3 (mysqld+0x000000951ce8)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2754:7 (mysqld+0x000000782f78)

  Location is global 'logger' of size 184 at 0x0000020735e0 (mysqld+0x000002073628)

  Mutex M459 (0x0000020735e0) created at:
    #0 pthread_rwlock_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1260 (mysqld+0x000000521563)
    #1 LOGGER::init_base() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:888:3 (mysqld+0x00000094fd0e)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4229:3 (mysqld+0x000000783c48)

  Thread T16 (tid=18311, running) created by thread T2 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2764:6 (mysqld+0x00000078307a)

  Thread T2 (tid=18278, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2657:14 (mysqld+0x0000007895b1)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4380:3 (mysqld+0x000000784151)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/log.cc:861:21 in LOGGER::cleanup_end()
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 8 at 0x00000206d1a0 by main thread:
    #0 pthread_cond_destroy /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1157 (mysqld+0x0000005453fc)
    #1 clean_up_mutexes() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1403:10 (mysqld+0x0000007813a8)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4509:3 (mysqld+0x0000007847c8)

  Previous read of size 8 at 0x00000206d1a0 by thread T10:
    #0 pthread_cond_broadcast /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1150 (mysqld+0x0000005452c0)
    #1 one_thread_per_connection_end(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1920:10 (mysqld+0x000000781b35)
    #2 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/sql_connect.cc:1122:9 (mysqld+0x00000079a771)

  Location is global 'COND_thread_count' of size 48 at 0x00000206d1a0 (mysqld+0x00000206d1a0)

  Thread T10 (tid=18291, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 create_thread_to_handle_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4809:16 (mysqld+0x00000078a9ce)
    #2 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4901:3 (mysqld+0x00000078b08b)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:5132:5 (mysqld+0x00000078a66b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4470:3 (mysqld+0x00000078464b)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:1403:10 in clean_up_mutexes()
==================
==================
WARNING: ThreadSanitizer: data race (pid=18274)
  Write of size 4 at 0x00000207b370 by main thread (mutexes: write M453):
    #0 _db_end_ /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/dbug/dbug.c:1521:22 (mysqld+0x000000d70206)
    #1 my_end /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_init.c:220:5 (mysqld+0x000000cee97e)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4510:3 (mysqld+0x0000007847f2)

  Previous read of size 4 at 0x00000207b370 by thread T2:
    #0 _db_keyword_ /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/dbug/dbug.c:1658:11 (mysqld+0x000000d6f503)
    #1 _db_doprnt_ /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/dbug/dbug.c:1150:7 (mysqld+0x000000d6f118)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2756:7 (mysqld+0x000000782fdf)

  Location is global 'init_settings' of size 584 at 0x00000207b370 (mysqld+0x00000207b370)

  Mutex M453 (0x00000207d0e0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x00000052f7a5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/thr_mutex.c:61:3 (mysqld+0x000000d61396)
    #2 code_state /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/dbug/dbug.c:334:5 (mysqld+0x000000d67ce0)
    #3 _db_enter_ /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/dbug/dbug.c:967:3 (mysqld+0x000000d6dbd6)
    #4 my_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/mysys/my_init.c:100:5 (mysqld+0x000000cee22b)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4215:3 (mysqld+0x000000783bf0)

  Thread T2 (tid=18278, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005445b3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:2657:14 (mysqld+0x0000007895b1)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/sql/mysqld.cc:4380:3 (mysqld+0x000000784151)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-35589/mysql-5.1.35/dbug/dbug.c:1521:22 in _db_end_
==================
ThreadSanitizer: reported 73 warnings
