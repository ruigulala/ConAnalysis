==================
WARNING: ThreadSanitizer: data race (pid=19031)
  Read of size 8 at 0x00000208a450 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 handle_bootstrap /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1322:10 (mysqld+0x0000007340e1)

  Previous write of size 8 at 0x00000208a450 by main thread (mutexes: write M244, write M243):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 bootstrap(_IO_FILE*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3792:10 (mysqld+0x000000708992)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3493:5 (mysqld+0x0000007044fa)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000208a400 (mysqld+0x00000208a450)

  Mutex M244 (0x00000208a428) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M243 (0x00000208a400) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T2 (tid=19035, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 bootstrap(_IO_FILE*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3784:7 (mysqld+0x000000708925)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3493:5 (mysqld+0x0000007044fa)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19031)
  Read of size 4 at 0x00000208af84 by thread T1:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 (mysqld+0x000000703968)

  Previous write of size 4 at 0x00000208af84 by main thread:
    #0 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1084:19 (mysqld+0x000000701794)
    #1 unireg_abort /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1071:3 (mysqld+0x000000701db6)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3495:5 (mysqld+0x00000070452f)

  Location is global 'cleanup_done' of size 4 at 0x00000208af84 (mysqld+0x00000208af84)

  Thread T1 (tid=19034, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 in signal_hand
==================
==================
WARNING: ThreadSanitizer: data race (pid=19031)
  Write of size 1 at 0x00000208af81 by thread T1:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 (mysqld+0x0000007039cf)

  Previous read of size 1 at 0x00000208af81 by main thread:
    #0 wait_for_signal_thread_to_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1200:26 (mysqld+0x000000701e77)
    #1 unireg_abort /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1073:3 (mysqld+0x000000701e00)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3495:5 (mysqld+0x00000070452f)

  Location is global 'signal_thread_in_use' of size 1 at 0x00000208af81 (mysqld+0x00000208af81)

  Thread T1 (tid=19034, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 in signal_hand
==================
ThreadSanitizer: reported 3 warnings
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7d240000cc10 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f7f6)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f521)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b31f)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1810:3 (mysqld+0x000000bd2b1d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1908:3 (mysqld+0x000000bd2413)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be340f)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cc10 by thread T2 (mutexes: write M80403, write M80402):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c703fd)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 136 at 0x7d240000cba0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dde7)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f6940de0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80403 (0x7d240000cbe8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dde7)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80402 (0x7d240000cbc0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dde7)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19041, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7d380087ca70 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68e79)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6ec72)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3465:5 (mysqld+0x000000c6f5d7)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b31f)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1810:3 (mysqld+0x000000bd2b1d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1908:3 (mysqld+0x000000bd2413)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be340f)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087ca70 by thread T2 (mutexes: write M80429, write M80428):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c69428)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c72013)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 216 at 0x7d380087ca00 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c68416)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f6940de0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80429 (0x7d380087ca48) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80428 (0x7d380087ca20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19041, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x7f6940de0c08 by thread T2 (mutexes: write M81471):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcae40)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd6835)
    #2 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:2 (mysqld+0x000000bd67de)
    #3 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1654:3 (mysqld+0x000000bcf256)
    #4 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1096:3 (mysqld+0x000000bced2b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b9de)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940de0c08 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c48540)
    #1 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c49a5c)
    #2 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6ee2)
    #3 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3470)
    #4 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f6940de0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19041, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7f6940de0bb8 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5ad7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd594c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcae58)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd6835)
    #5 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:2 (mysqld+0x000000bd67de)
    #6 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1654:3 (mysqld+0x000000bcf256)
    #7 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1096:3 (mysqld+0x000000bced2b)
    #8 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b9de)
    #9 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940de0bb8 by main thread (mutexes: write M81477, write M81476):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4b107)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4af7c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c48558)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c49a5c)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6ee2)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3470)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f6940de0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7f6940de0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:818:2 (mysqld+0x000000bcd9d0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81476 (0x7f6940de0b68) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:818:2 (mysqld+0x000000bcd9d0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19041, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7d240000d6c0 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45677)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:829:9 (mysqld+0x000000c465a4)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd6942)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:2 (mysqld+0x000000bd67de)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1654:3 (mysqld+0x000000bcf256)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1096:3 (mysqld+0x000000bced2b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b9de)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7d240000d6c0 by main thread (mutexes: write M331, write M330):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45677)
    #4 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:403:9 (mysqld+0x000000c46035)
    #5 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49cc6)
    #6 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6ee2)
    #7 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3470)
    #8 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d650 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f6940de0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M330 (0x7d240000d670) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19041, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7d380000ddd0 by thread T2 (mutexes: write M81471, write M331):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68e79)
    #3 sync_cell_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:303:2 (mysqld+0x000000c466f3)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:845:26 (mysqld+0x000000c46683)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd6942)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:2 (mysqld+0x000000bd67de)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1654:3 (mysqld+0x000000bcf256)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1096:3 (mysqld+0x000000bced2b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b9de)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7d380000ddd0 by main thread (mutexes: write M333, write M332):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c69428)
    #3 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:433:9 (mysqld+0x000000c462a3)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49cc6)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6ee2)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3470)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 216 at 0x7d380000dd60 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c68416)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44e1c)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f6940de0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M333 (0x7d380000dda8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44e1c)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M332 (0x7d380000dd80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44e1c)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19041, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7d240000cb80 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f7f6)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f521)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b31f)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:143:9 (mysqld+0x000000bc4465)
    #7 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:271:13 (mysqld+0x000000bc3e98)
    #8 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3805)
    #9 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #10 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #11 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #12 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #13 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #14 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #15 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #16 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cb80 by thread T3 (mutexes: write M80409, write M80408):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c703fd)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 136 at 0x7d240000cb10 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6de46)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80409 (0x7d240000cb58) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6de46)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80408 (0x7d240000cb30) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6de46)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7d240000cca0 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3256:2 (mysqld+0x000000c6eb6f)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6ea7e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3f2f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3805)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cca0 by thread T1 (mutexes: write M80397, write M80396):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c703fd)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 136 at 0x7d240000cc30 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dd91)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80397 (0x7d240000cc78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dd91)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80396 (0x7d240000cc50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dd91)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T1 (tid=19040, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7d380087c990 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68e79)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6ec72)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6ea7e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3f2f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3805)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087c990 by thread T3 (mutexes: write M80431, write M80430):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c69428)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c72013)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 216 at 0x7d380087c920 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c68416)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80431 (0x7d380087c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80430 (0x7d380087c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x7f6940ddf950 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf7340)
    #1 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b90c)
    #2 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940ddf950 by main thread (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf7340)
    #1 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08b76)
    #2 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafe63)
    #3 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc427b)
    #4 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc382c)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f6940ddfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7f6940ddf900 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d5a7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d41c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf7358)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b90c)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940ddf900 by main thread (mutexes: write M80437, write M80435, write M80434):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d5a7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d41c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf7358)
    #4 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08b76)
    #5 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafe63)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc427b)
    #7 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc382c)
    #8 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #9 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #10 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #11 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #12 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #13 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #14 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #15 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f6940ddfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80435 (0x7f6940ddf8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe83e)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe5b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80346)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80434 (0x7f6940ddf8b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe83e)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe5b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80346)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x7f6940ddfd50 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babce0)
    #1 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb12fb)
    #2 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #3 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940ddfd50 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babce0)
    #1 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badbdc)
    #2 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #3 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7f6940ddfd00 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3847)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb36bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babcf8)
    #4 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb12fb)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940ddfd00 by main thread (mutexes: write M80437, write M80436):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3847)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb36bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babcf8)
    #4 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badbdc)
    #5 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #6 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f6940ddfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80436 (0x7f6940ddfcb0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x7f693fd61d98 by thread T3 (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babce0)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf335)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb13f9)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f693fd61d98 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c48540)
    #1 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a409)
    #2 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae3fa)
    #3 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #4 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7f693fd60000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa2f1)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f6940ddfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7f693fd61d48 by thread T3 (mutexes: write M80437):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3847)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb36bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babcf8)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf335)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb13f9)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f693fd61d48 by main thread (mutexes: write M80459, write M80458):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4b107)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4af7c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c48558)
    #4 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a409)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae3fa)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7f693fd60000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa2f1)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f6940ddfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80459 (0x7f693fd61d20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000bac071)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa8ab)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80458 (0x7f693fd61cf8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000bac071)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa8ab)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7f6940de0958 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c517a7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4c70c)
    #3 mutex_enter_nowait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:318:7 (mysqld+0x000000c4c6a0)
    #4 log_peek_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3314:11 (mysqld+0x000000bd5156)
    #5 buf_page_is_corrupted /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:315:28 (mysqld+0x000000ba91c3)
    #6 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1845:7 (mysqld+0x000000bb0f88)
    #7 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #8 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940de0958 by main thread (mutexes: write M81471, write M81470):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5ad7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd594c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcae58)
    #4 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:160:2 (mysqld+0x000000bcad46)
    #5 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be8822)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f6940de0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81470 (0x7f6940de0908) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x000002098ae0 by main thread (mutexes: write M81485):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c642bd)
    #3 hash_table_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ha/hash0hash.c:124:2 (mysqld+0x000000c5a67f)
    #4 recv_sys_empty_hash /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:186:2 (mysqld+0x000000bdcc14)
    #5 recv_apply_hashed_log_recs /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1454:2 (mysqld+0x000000bdc76f)
    #6 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1937:3 (mysqld+0x000000bcaf29)
    #7 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:171:13 (mysqld+0x000000bcadc3)
    #8 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be8822)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098ae0 by thread T3 (mutexes: write M327, write M326):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c642bd)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4011:3 (mysqld+0x000000c71b72)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is global 'ut_list_mutex' of size 104 at 0x000002098a90 (mysqld+0x000002098ae0)

  Mutex M81485 (0x7f6940de74d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 recv_sys_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:115:2 (mysqld+0x000000bd6e5c)
    #5 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2593:3 (mysqld+0x000000be0a2e)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M327 (0x000002098ab8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c6409b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63be8)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e548)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M326 (0x000002098a90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c6409b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63be8)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e548)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x7f6940de7550 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bd7690)
    #1 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd88ba)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb120c)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940de7550 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7f6940de7500 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000be4f97)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000be4e0c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bd76a8)
    #4 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd88ba)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb120c)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f6940de7500 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x000002093cf0 by thread T2:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84530)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a81a0e)

  Previous write of size 8 at 0x000002093cf0 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84530)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a81a0e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093cf0)

  Thread T2 (tid=19041, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x000002093ca0 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a846e7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a8579c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84548)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a81a0e)

  Previous write of size 8 at 0x000002093ca0 by thread T3 (mutexes: write M81481, write M81480):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a846e7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a8579c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84548)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a81a0e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093ca0)

  Mutex M81481 (0x000002093c78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8354f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a808e5)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81480 (0x000002093c50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8354f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a808e5)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19041, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19042, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7d240000d750 by thread T5 (mutexes: write M20343):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:581:3 (mysqld+0x000000c688f5)
    #4 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #5 trx_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:147:2 (mysqld+0x000000b8d0fb)
    #6 sess_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/usr/usr0sess.c:42:14 (mysqld+0x000000ba84d8)
    #7 trx_rollback_or_clean_all_without_sess /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0roll.c:420:20 (mysqld+0x000000b803e4)

  Previous write of size 8 at 0x7d240000d750 by main thread (mutexes: write M329, write M328):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:160:2 (mysqld+0x000000c696a5)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80ed2)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d6e0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6748b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:992:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f6940ddd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:889:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M329 (0x7d240000d728) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6748b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:992:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M328 (0x7d240000d700) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6748b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:992:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T5 (tid=19045, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3670)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80e16)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x000002097230 by thread T7:
    #0 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2099:27 (mysqld+0x000000a7af66)

  Previous write of size 8 at 0x000002097230 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1888:24 (mysqld+0x000000a7a599)

  Location is global 'srv_last_monitor_time' of size 8 at 0x000002097230 (mysqld+0x000002097230)

  Thread T7 (tid=19047, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80f02)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T6 (tid=19046, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80ed2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2099:27 in srv_error_monitor_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x000002098628 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c430b0)
    #1 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43380)
    #2 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe8b5)
    #3 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2d11)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81715)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098628 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c430b0)
    #1 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c432fb)
    #2 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:740:2 (mysqld+0x000000a7d06b)
    #3 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2226:2 (mysqld+0x000000a7b7c8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x000002098628)

  Thread T8 (tid=19048, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x0000020985d8 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c44257)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c440cc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c430c8)
    #4 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43380)
    #5 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe8b5)
    #6 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2d11)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81715)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x0000020985d8 by thread T8 (mutexes: write M20341, write M20340):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c44257)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c440cc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c430c8)
    #4 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c432fb)
    #5 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:740:2 (mysqld+0x000000a7d06b)
    #6 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2226:2 (mysqld+0x000000a7b7c8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x0000020985d8)

  Mutex M20341 (0x0000020985b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c43803)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:995:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20340 (0x000002098588) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c43803)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:995:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=19048, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x7f6940ddd350 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 (mysqld+0x000000b8e560)
    #1 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98dc5)
    #2 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #3 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #4 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7f6940ddd350 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2244:2 (mysqld+0x000000a7b9c0)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=19048, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Read of size 8 at 0x7f6940ddd300 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/os0sync.ic:43:17 (mysqld+0x000000b99697)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:106:8 (mysqld+0x000000b9950c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:257:8 (mysqld+0x000000b8e578)
    #4 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98dc5)
    #5 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #6 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7f6940ddd300 by thread T8 (mutexes: write M20343, write M20342):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a7d427)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a7d29c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a74a78)
    #4 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2244:2 (mysqld+0x000000a7b9c0)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f6940ddd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:889:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20342 (0x7f6940ddd2b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:889:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=19048, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19037)
  Write of size 8 at 0x7f6940de09a8 by thread T7:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 log_get_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/log0log.ic:377:2 (mysqld+0x000000a7b1ae)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2083:12 (mysqld+0x000000a7ae2e)

  Previous write of size 8 at 0x7f6940de09a8 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcae40)
    #1 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1960:2 (mysqld+0x000000bcb040)
    #2 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2551:2 (mysqld+0x000000a7c98a)

  Location is heap block of size 1048608 at 0x7f6940ddd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T7 (tid=19047, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80f02)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=19048, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d240000cc10 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f7f6)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f521)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b31f)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1810:3 (mysqld+0x000000bd2b1d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1908:3 (mysqld+0x000000bd2413)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be340f)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cc10 by thread T2 (mutexes: write M80403, write M80402):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c703fd)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 136 at 0x7d240000cba0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dde7)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f7f399e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80403 (0x7d240000cbe8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dde7)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80402 (0x7d240000cbc0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dde7)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19057, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d380087ca70 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68e79)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6ec72)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3465:5 (mysqld+0x000000c6f5d7)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b31f)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1810:3 (mysqld+0x000000bd2b1d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1908:3 (mysqld+0x000000bd2413)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be340f)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087ca70 by thread T2 (mutexes: write M80429, write M80428):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c69428)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c72013)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 216 at 0x7d380087ca00 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c68416)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f7f399e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80429 (0x7d380087ca48) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80428 (0x7d380087ca20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19057, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x7f7f399e0c08 by thread T2 (mutexes: write M81471):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcae40)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd6835)
    #2 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:2 (mysqld+0x000000bd67de)
    #3 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1654:3 (mysqld+0x000000bcf256)
    #4 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1096:3 (mysqld+0x000000bced2b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b9de)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399e0c08 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c48540)
    #1 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c49a5c)
    #2 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6ee2)
    #3 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3470)
    #4 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f7f399e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19057, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7f7f399e0bb8 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5ad7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd594c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcae58)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd6835)
    #5 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:2 (mysqld+0x000000bd67de)
    #6 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1654:3 (mysqld+0x000000bcf256)
    #7 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1096:3 (mysqld+0x000000bced2b)
    #8 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b9de)
    #9 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399e0bb8 by main thread (mutexes: write M81477, write M81476):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4b107)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4af7c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c48558)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c49a5c)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6ee2)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3470)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f7f399e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7f7f399e0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:818:2 (mysqld+0x000000bcd9d0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81476 (0x7f7f399e0b68) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:818:2 (mysqld+0x000000bcd9d0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19057, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d240000d6c0 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45677)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:829:9 (mysqld+0x000000c465a4)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd6942)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:2 (mysqld+0x000000bd67de)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1654:3 (mysqld+0x000000bcf256)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1096:3 (mysqld+0x000000bced2b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b9de)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7d240000d6c0 by main thread (mutexes: write M331, write M330):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45677)
    #4 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:403:9 (mysqld+0x000000c46035)
    #5 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49cc6)
    #6 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6ee2)
    #7 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3470)
    #8 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d650 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f7f399e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M330 (0x7d240000d670) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19057, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d380000ddd0 by thread T2 (mutexes: write M81471, write M331):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68e79)
    #3 sync_cell_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:303:2 (mysqld+0x000000c466f3)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:845:26 (mysqld+0x000000c46683)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd6942)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:2 (mysqld+0x000000bd67de)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1654:3 (mysqld+0x000000bcf256)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1096:3 (mysqld+0x000000bced2b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b9de)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7d380000ddd0 by main thread (mutexes: write M333, write M332):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c69428)
    #3 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:433:9 (mysqld+0x000000c462a3)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49cc6)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6ee2)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3470)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be20c2)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 216 at 0x7d380000dd60 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c68416)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44e1c)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f7f399e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M333 (0x7d380000dda8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44e1c)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M332 (0x7d380000dd80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44e1c)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19057, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d240000cb80 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f7f6)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f521)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b31f)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:143:9 (mysqld+0x000000bc4465)
    #7 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:271:13 (mysqld+0x000000bc3e98)
    #8 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3805)
    #9 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #10 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #11 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #12 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #13 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #14 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #15 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #16 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cb80 by thread T3 (mutexes: write M80409, write M80408):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c703fd)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 136 at 0x7d240000cb10 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6de46)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80409 (0x7d240000cb58) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6de46)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80408 (0x7d240000cb30) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6de46)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d240000cca0 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3256:2 (mysqld+0x000000c6eb6f)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6ea7e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3f2f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3805)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cca0 by thread T1 (mutexes: write M80397, write M80396):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c703fd)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 136 at 0x7d240000cc30 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dd91)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80397 (0x7d240000cc78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dd91)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80396 (0x7d240000cc50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e5e2)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dd91)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T1 (tid=19056, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d380087c990 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68e79)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6ec72)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6ea7e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3f2f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3805)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087c990 by thread T3 (mutexes: write M80431, write M80430):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c69428)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c72013)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 216 at 0x7d380087c920 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c68416)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80431 (0x7d380087c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80430 (0x7d380087c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x7f7f399df950 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf7340)
    #1 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b90c)
    #2 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399df950 by main thread (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf7340)
    #1 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08b76)
    #2 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafe63)
    #3 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc427b)
    #4 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc382c)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f7f399dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7f7f399df900 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d5a7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d41c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf7358)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b90c)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399df900 by main thread (mutexes: write M80437, write M80435, write M80434):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d5a7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d41c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf7358)
    #4 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08b76)
    #5 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafe63)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc427b)
    #7 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc382c)
    #8 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badd9c)
    #9 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #10 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #11 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #12 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #13 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #14 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #15 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f7f399dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80435 (0x7f7f399df8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe83e)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe5b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80346)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80434 (0x7f7f399df8b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe83e)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe5b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80346)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x7f7f399dfd50 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babce0)
    #1 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb12fb)
    #2 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #3 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399dfd50 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babce0)
    #1 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badbdc)
    #2 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #3 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7f7f399dfd00 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3847)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb36bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babcf8)
    #4 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb12fb)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399dfd00 by main thread (mutexes: write M80437, write M80436):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3847)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb36bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babcf8)
    #4 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badbdc)
    #5 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #6 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f7f399dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80436 (0x7f7f399dfcb0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x7f7f38961d98 by thread T3 (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babce0)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf335)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb13f9)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f38961d98 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c48540)
    #1 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a409)
    #2 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae3fa)
    #3 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #4 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7f7f38960000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa2f1)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f7f399dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7f7f38961d48 by thread T3 (mutexes: write M80437):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3847)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb36bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babcf8)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf335)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb13f9)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f38961d48 by main thread (mutexes: write M80459, write M80458):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4b107)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4af7c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c48558)
    #4 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a409)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae3fa)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be8653)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be87e5)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7f7f38960000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa2f1)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f7f399dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000baa0a4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80459 (0x7f7f38961d20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000bac071)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa8ab)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80458 (0x7f7f38961cf8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000bac071)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa8ab)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a804f8)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7f7f399e0958 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c517a7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4c70c)
    #3 mutex_enter_nowait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:318:7 (mysqld+0x000000c4c6a0)
    #4 log_peek_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3314:11 (mysqld+0x000000bd5156)
    #5 buf_page_is_corrupted /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:315:28 (mysqld+0x000000ba91c3)
    #6 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1845:7 (mysqld+0x000000bb0f88)
    #7 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #8 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399e0958 by main thread (mutexes: write M81471, write M81470):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5ad7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd594c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcae58)
    #4 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:160:2 (mysqld+0x000000bcad46)
    #5 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be8822)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f7f399e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81470 (0x7f7f399e0908) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:761:2 (mysqld+0x000000bccdd3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x000002098ae0 by main thread (mutexes: write M81485):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c642bd)
    #3 hash_table_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ha/hash0hash.c:124:2 (mysqld+0x000000c5a67f)
    #4 recv_sys_empty_hash /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:186:2 (mysqld+0x000000bdcc14)
    #5 recv_apply_hashed_log_recs /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1454:2 (mysqld+0x000000bdc76f)
    #6 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1937:3 (mysqld+0x000000bcaf29)
    #7 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:171:13 (mysqld+0x000000bcadc3)
    #8 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be8822)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80e0a)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098ae0 by thread T3 (mutexes: write M327, write M326):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c642bd)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4011:3 (mysqld+0x000000c71b72)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is global 'ut_list_mutex' of size 104 at 0x000002098a90 (mysqld+0x000002098ae0)

  Mutex M81485 (0x7f7f399e74d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 recv_sys_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:115:2 (mysqld+0x000000bd6e5c)
    #5 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2593:3 (mysqld+0x000000be0a2e)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80d72)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M327 (0x000002098ab8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c6409b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63be8)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e548)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M326 (0x000002098a90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c6409b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63be8)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e548)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x7f7f399e7550 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bd7690)
    #1 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd88ba)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb120c)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399e7550 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7f7f399e7500 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000be4f97)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000be4e0c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bd76a8)
    #4 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd88ba)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb120c)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b9ae)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Previous write of size 8 at 0x7f7f399e7500 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x000002093cf0 by thread T2:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84530)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a81a0e)

  Previous write of size 8 at 0x000002093cf0 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84530)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a81a0e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093cf0)

  Thread T2 (tid=19057, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x000002093ca0 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a846e7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a8579c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84548)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a81a0e)

  Previous write of size 8 at 0x000002093ca0 by thread T3 (mutexes: write M81481, write M81480):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a846e7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a8579c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84548)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a81a0e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093ca0)

  Mutex M81481 (0x000002093c78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8354f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a808e5)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81480 (0x000002093c50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8354f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a808e5)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=19057, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=19058, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d240000d750 by thread T5 (mutexes: write M20343):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:581:3 (mysqld+0x000000c688f5)
    #4 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #5 trx_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:147:2 (mysqld+0x000000b8d0fb)
    #6 sess_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/usr/usr0sess.c:42:14 (mysqld+0x000000ba84d8)
    #7 trx_rollback_or_clean_all_without_sess /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0roll.c:420:20 (mysqld+0x000000b803e4)

  Previous write of size 8 at 0x7d240000d750 by main thread (mutexes: write M329, write M328):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c689b1)
    #3 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:160:2 (mysqld+0x000000c696a5)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80ed2)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d6e0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c67516)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6748b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:992:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f7f399dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:889:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M329 (0x7d240000d728) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6748b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:992:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M328 (0x7d240000d700) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6748b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:992:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T5 (tid=19061, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3670)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80e16)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x000002097230 by thread T7:
    #0 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2099:27 (mysqld+0x000000a7af66)

  Previous write of size 8 at 0x000002097230 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1888:24 (mysqld+0x000000a7a599)

  Location is global 'srv_last_monitor_time' of size 8 at 0x000002097230 (mysqld+0x000002097230)

  Thread T7 (tid=19063, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80f02)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T6 (tid=19062, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80ed2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2099:27 in srv_error_monitor_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x000002098628 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c430b0)
    #1 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43380)
    #2 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe8b5)
    #3 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2d11)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81715)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098628 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c430b0)
    #1 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c432fb)
    #2 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:740:2 (mysqld+0x000000a7d06b)
    #3 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2226:2 (mysqld+0x000000a7b7c8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x000002098628)

  Thread T8 (tid=19064, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x0000020985d8 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c44257)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c440cc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c430c8)
    #4 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43380)
    #5 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe8b5)
    #6 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2d11)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81715)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x0000020985d8 by thread T8 (mutexes: write M20341, write M20340):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c44257)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c440cc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c430c8)
    #4 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c432fb)
    #5 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:740:2 (mysqld+0x000000a7d06b)
    #6 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2226:2 (mysqld+0x000000a7b7c8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x0000020985d8)

  Mutex M20341 (0x0000020985b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c43803)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:995:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20340 (0x000002098588) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c43803)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:995:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=19064, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x7f7f399dd350 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 (mysqld+0x000000b8e560)
    #1 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98dc5)
    #2 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #3 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #4 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7f7f399dd350 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2244:2 (mysqld+0x000000a7b9c0)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=19064, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7f7f399dd300 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/os0sync.ic:43:17 (mysqld+0x000000b99697)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:106:8 (mysqld+0x000000b9950c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:257:8 (mysqld+0x000000b8e578)
    #4 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98dc5)
    #5 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #6 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7f7f399dd300 by thread T8 (mutexes: write M20343, write M20342):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a7d427)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a7d29c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a74a78)
    #4 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2244:2 (mysqld+0x000000a7b9c0)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f7f399dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:889:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20342 (0x7f7f399dd2b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:889:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=19064, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x7f7f399e09a8 by thread T7:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 log_get_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/log0log.ic:377:2 (mysqld+0x000000a7b1ae)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2083:12 (mysqld+0x000000a7ae2e)

  Previous write of size 8 at 0x7f7f399e09a8 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcae40)
    #1 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1960:2 (mysqld+0x000000bcb040)
    #2 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2551:2 (mysqld+0x000000a7c98a)

  Location is heap block of size 1048608 at 0x7f7f399dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f2b4)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c618)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:994:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T7 (tid=19063, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80f02)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=19064, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x000002096e50 by thread T9:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 process_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:298:3 (mysqld+0x000000dc9894)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2355:7 (mysqld+0x000000703c29)

  Previous write of size 8 at 0x000002096e50 by thread T10 (mutexes: write M81561, write M81560):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:156:3 (mysqld+0x000000dc8d23)
    #2 my_real_read(st_net*, unsigned long*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/net_serv.cc:823:11 (mysqld+0x0000006eb6c6)
    #3 my_net_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/net_serv.cc:983:11 (mysqld+0x0000006ea3d5)
    #4 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:925:12 (mysqld+0x000000731d5a)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1142:16 (mysqld+0x00000072ff8e)

  Location is global 'LOCK_alarm' of size 104 at 0x000002096e00 (mysqld+0x000002096e50)

  Mutex M81561 (0x000002096e28) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 init_thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:80:3 (mysqld+0x000000dc87dd)
    #3 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2254:3 (mysqld+0x00000070373b)

  Mutex M81560 (0x000002096e00) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 init_thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:80:3 (mysqld+0x000000dc87dd)
    #3 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2254:3 (mysqld+0x00000070373b)

  Thread T9 (tid=19065, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

  Thread T10 (tid=19069, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x00000208a450 by thread T27:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 check_user(THD*, enum_server_command, char const*, unsigned int, char const*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:398:9 (mysqld+0x0000007293fe)
    #2 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1052:10 (mysqld+0x000000732ef5)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1142:16 (mysqld+0x00000072ff8e)

  Previous write of size 8 at 0x00000208a450 by thread T15 (mutexes: write M244, write M243):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 end_thread(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1643:10 (mysqld+0x000000702941)
    #2 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1205:5 (mysqld+0x000000730a9a)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000208a400 (mysqld+0x00000208a450)

  Mutex M244 (0x00000208a428) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M243 (0x00000208a400) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T27 (tid=19139, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T15 (tid=19138, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x00000208a930 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 THD::init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_class.cc:285:3 (mysqld+0x0000006d6c35)
    #2 THD::THD() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_class.cc:247:3 (mysqld+0x0000006d65f7)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4116:20 (mysqld+0x00000070949b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Previous write of size 8 at 0x00000208a930 by thread T27 (mutexes: write M270, write M269):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 check_user(THD*, enum_server_command, char const*, unsigned int, char const*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:316:3 (mysqld+0x000000728c45)
    #2 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1052:10 (mysqld+0x000000732ef5)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1142:16 (mysqld+0x00000072ff8e)

  Location is global 'LOCK_global_system_variables' of size 104 at 0x00000208a8e0 (mysqld+0x00000208a930)

  Mutex M270 (0x00000208a908) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2803:10 (mysqld+0x00000070b3e3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M269 (0x00000208a8e0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2803:10 (mysqld+0x00000070b3e3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T27 (tid=19139, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 4 at 0x0000020885b8 by thread T14:
    #0 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6720:16 (mysqld+0x000000737758)
    #1 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #2 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #3 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #4 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous write of size 4 at 0x0000020885b8 by thread T15:
    #0 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6720:16 (mysqld+0x000000737758)
    #1 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #2 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #3 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #4 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Location is global 'select_errors' of size 4 at 0x0000020885b8 (mysqld+0x0000020885b8)

  Thread T14 (tid=20238, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T15 (tid=20241, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6720:16 in reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x00000208eb58 by thread T14:
    #0 check_stack_overrun(THD*, long, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5583:19 (mysqld+0x000000751ea6)
    #1 open_table(THD*, st_table_list*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:1193:7 (mysqld+0x0000007b4499)
    #2 open_tables(THD*, st_table_list**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2160:19 (mysqld+0x0000007b97d4)
    #3 simple_open_n_lock_tables(THD*, st_table_list*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2413:9 (mysqld+0x0000007ba9cc)
    #4 acl_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:564:7 (mysqld+0x0000008a9266)
    #5 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6740:13 (mysqld+0x0000007378f0)
    #6 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #7 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #8 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #9 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #10 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous write of size 8 at 0x00000208eb58 by thread T15:
    #0 check_stack_overrun(THD*, long, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5583:17 (mysqld+0x000000751f29)
    #1 open_table(THD*, st_table_list*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:1193:7 (mysqld+0x0000007b4499)
    #2 open_tables(THD*, st_table_list**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2160:19 (mysqld+0x0000007b97d4)
    #3 simple_open_n_lock_tables(THD*, st_table_list*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2413:9 (mysqld+0x0000007ba9cc)
    #4 grant_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:3501:7 (mysqld+0x0000008bdc12)
    #5 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6741:13 (mysqld+0x000000737908)
    #6 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #7 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #8 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #9 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #10 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Location is global 'max_stack_used' of size 8 at 0x00000208eb58 (mysqld+0x00000208eb58)

  Thread T14 (tid=20238, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T15 (tid=20241, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5583:19 in check_stack_overrun(THD*, long, char*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x00000208a3e8 by thread T14:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 open_table(THD*, st_table_list*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:1331:3 (mysqld+0x0000007b58e0)
    #2 open_tables(THD*, st_table_list**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2160:19 (mysqld+0x0000007b97d4)
    #3 simple_open_n_lock_tables(THD*, st_table_list*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2413:9 (mysqld+0x0000007ba9cc)
    #4 acl_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:564:7 (mysqld+0x0000008a9266)
    #5 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6740:13 (mysqld+0x0000007378f0)
    #6 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #7 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #8 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #9 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #10 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous write of size 8 at 0x00000208a3e8 by thread T27 (mutexes: write M242, write M241):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 close_thread_tables(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:517:5 (mysqld+0x0000007ae6fd)
    #2 grant_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:3531:3 (mysqld+0x0000008bdf15)
    #3 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6741:13 (mysqld+0x000000737908)
    #4 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #5 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #6 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #7 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #8 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Location is global 'LOCK_open' of size 104 at 0x00000208a398 (mysqld+0x00000208a3e8)

  Mutex M242 (0x00000208a3c0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2789:10 (mysqld+0x00000070b195)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M241 (0x00000208a398) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2789:10 (mysqld+0x00000070b195)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T14 (tid=20238, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T27 (tid=20244, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x000002088690 by thread T23 (mutexes: write M244):
    #0 next_query_id() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/./mysql_priv.h:64:52 (mysqld+0x000000758a36)
    #1 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1593:5 (mysqld+0x00000072ba5d)
    #2 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous read of size 8 at 0x000002088690 by main thread:
    #0 THD::THD() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_class.cc:272:56 (mysqld+0x0000006d6823)
    #1 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4116:20 (mysqld+0x00000070949b)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Location is global 'query_id' of size 8 at 0x000002088690 (mysqld+0x000002088690)

  Mutex M244 (0x00000208a428) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T23 (tid=20584, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/./mysql_priv.h:64:52 in next_query_id()
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 1 at 0x00000208858e by thread T9:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2328:12 (mysqld+0x000000703b24)

  Previous read of size 1 at 0x00000208858e by main thread:
    #0 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3978:11 (mysqld+0x000000708fa5)
    #1 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Location is global 'abort_loop' of size 1 at 0x00000208858e (mysqld+0x00000208858e)

  Thread T9 (tid=19065, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2328:12 in signal_hand
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 4 at 0x00000208af84 by thread T21:
    #0 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1084:19 (mysqld+0x000000701794)
    #1 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #2 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #3 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 4 at 0x00000208af84 by thread T9:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 (mysqld+0x000000703968)

  Location is global 'cleanup_done' of size 4 at 0x00000208af84 (mysqld+0x00000208af84)

  Thread T21 (tid=24638, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T9 (tid=19065, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1084:19 in clean_up(bool)
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x0000020933c8 by thread T21:
    #0 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1474:28 (mysqld+0x000000948db6)
    #1 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #2 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #3 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #4 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #5 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 8 at 0x0000020933c8 by thread T8:
    #0 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2578:6 (mysqld+0x000000a7ca9e)

  Location is global 'srv_fast_shutdown' of size 8 at 0x0000020933c8 (mysqld+0x0000020933c8)

  Thread T21 (tid=24638, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T8 (tid=19064, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1474:28 in innobase_end()
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x000002093518 by thread T21:
    #0 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3075:21 (mysqld+0x000000bd3be0)
    #1 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a848be)
    #2 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #3 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #4 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #5 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #6 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #7 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 8 at 0x000002093518 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2008:6 (mysqld+0x000000a7ac10)

  Location is global 'srv_shutdown_state' of size 8 at 0x000002093518 (mysqld+0x000002093518)

  Thread T21 (tid=24638, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T6 (tid=19062, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80ed2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3075:21 in logs_empty_and_mark_files_at_shutdown
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 8 at 0x7f7f3bc29020 by thread T21 (mutexes: write M81477, write M331):
    #0 sync_array_reserve_cell /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:357:22 (mysqld+0x000000c45c25)
    #1 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:267:10 (mysqld+0x000000c49b0d)
    #2 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000bd2d12)
    #3 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:2003:3 (mysqld+0x000000bcb285)
    #4 log_make_checkpoint_at /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:2039:13 (mysqld+0x000000bd2ff2)
    #5 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3144:3 (mysqld+0x000000bd3e9f)
    #6 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a848be)
    #7 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #8 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #9 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #10 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #11 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #12 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 8 at 0x7f7f3bc29020 by thread T7:
    #0 sync_array_print_long_waits /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:914:27 (mysqld+0x000000c46b37)
    #1 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2106:6 (mysqld+0x000000a7af97)

  Location is heap block of size 880032 at 0x7f7f3bc29000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:199:15 (mysqld+0x000000c44ba3)
    #4 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7f7f399e0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47c1c)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:818:2 (mysqld+0x000000bcd9d0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8055a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c67523)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44cb2)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c511e8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:993:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1320:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T21 (tid=24638, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T7 (tid=19063, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80f02)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:357:22 in sync_array_reserve_cell
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d3800220fd0 by thread T21 (mutexes: write M20343):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68e79)
    #3 srv_release_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:826:4 (mysqld+0x000000a74c74)
    #4 srv_wake_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2183:2 (mysqld+0x000000a7b6fe)
    #5 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1812:3 (mysqld+0x000000a849b4)
    #6 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #7 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #8 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #9 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #10 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #11 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous write of size 8 at 0x7d3800220fd0 by thread T8 (mutexes: write M20347, write M20346):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c69428)
    #3 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2620:2 (mysqld+0x000000a7cbf7)

  Location is heap block of size 216 at 0x7d3800220f60 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c68416)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:901:17 (mysqld+0x000000a7523e)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f7f399dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b55e)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:889:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20347 (0x7d3800220fa8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:901:17 (mysqld+0x000000a7523e)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20346 (0x7d3800220f80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:901:17 (mysqld+0x000000a7523e)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1324:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fd87)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T21 (tid=24638, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T8 (tid=19064, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Read of size 8 at 0x7d380087cb50 by thread T21:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd238e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68e79)
    #3 os_aio_wake_all_threads_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2934:3 (mysqld+0x000000c6e96e)
    #4 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1816:3 (mysqld+0x000000a849b9)
    #5 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #6 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #7 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #8 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #9 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #10 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous write of size 8 at 0x7d380087cb50 by thread T1 (mutexes: write M80427, write M80426):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd26f8)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c69047)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c69428)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c72013)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b7fa)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a819ee)

  Location is heap block of size 216 at 0x7d380087cae0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63c09)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c64155)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c68416)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80427 (0x7d380087cb28) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2286)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80426 (0x7d380087cb00) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd226f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c687c1)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c68423)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e2e5)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a802d0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T21 (tid=24638, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T1 (tid=19056, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=19054)
  Write of size 1 at 0x00000208af81 by thread T9:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 (mysqld+0x0000007039cf)

  Previous read of size 1 at 0x00000208af81 by main thread:
    #0 wait_for_signal_thread_to_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1200:26 (mysqld+0x000000701e77)
    #1 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3562:3 (mysqld+0x000000704869)

  Location is global 'signal_thread_in_use' of size 1 at 0x00000208af81 (mysqld+0x00000208af81)

  Thread T9 (tid=19065, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 in signal_hand
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=19054)
  Thread T1 (tid=19056, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a8068d)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  And 3 more similar thread leaks.

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=19054)
  Thread T5 (tid=19061, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3670)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80e16)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=19054)
  Thread T6 (tid=19062, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80ed2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=19054)
  Thread T7 (tid=19063, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80f02)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=19054)
  Thread T8 (tid=19064, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c6970d)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80fdc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
ThreadSanitizer: reported 48 warnings
