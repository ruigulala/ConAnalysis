==================
WARNING: ThreadSanitizer: data race (pid=17452)
  Read of size 8 at 0x00000208a450 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 handle_bootstrap /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1322:10 (mysqld+0x0000007340e1)

  Previous write of size 8 at 0x00000208a450 by main thread (mutexes: write M244, write M243):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 bootstrap(_IO_FILE*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3792:10 (mysqld+0x000000708992)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3493:5 (mysqld+0x0000007044fa)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000208a400 (mysqld+0x00000208a450)

  Mutex M244 (0x00000208a428) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M243 (0x00000208a400) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T2 (tid=17456, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 bootstrap(_IO_FILE*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3784:7 (mysqld+0x000000708925)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3493:5 (mysqld+0x0000007044fa)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17452)
  Read of size 4 at 0x00000208af84 by thread T1:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 (mysqld+0x000000703968)

  Previous write of size 4 at 0x00000208af84 by main thread:
    #0 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1084:19 (mysqld+0x000000701794)
    #1 unireg_abort /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1071:3 (mysqld+0x000000701db6)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3495:5 (mysqld+0x00000070452f)

  Location is global 'cleanup_done' of size 4 at 0x00000208af84 (mysqld+0x00000208af84)

  Thread T1 (tid=17455, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 in signal_hand
==================
==================
WARNING: ThreadSanitizer: data race (pid=17452)
  Write of size 1 at 0x00000208af81 by thread T1:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 (mysqld+0x0000007039cf)

  Previous read of size 1 at 0x00000208af81 by main thread:
    #0 wait_for_signal_thread_to_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1200:26 (mysqld+0x000000701e77)
    #1 unireg_abort /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1073:3 (mysqld+0x000000701e00)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3495:5 (mysqld+0x00000070452f)

  Location is global 'signal_thread_in_use' of size 1 at 0x00000208af81 (mysqld+0x00000208af81)

  Thread T1 (tid=17455, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 in signal_hand
==================
ThreadSanitizer: reported 3 warnings
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7d240000cc10 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f696)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f3c1)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1793:3 (mysqld+0x000000bd2a3d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be32af)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cc10 by thread T2 (mutexes: write M80403, write M80402):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cba0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f307c2e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80403 (0x7d240000cbe8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80402 (0x7d240000cbc0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17462, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7d380087ca70 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6eb12)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3465:5 (mysqld+0x000000c6f477)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1793:3 (mysqld+0x000000bd2a3d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be32af)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087ca70 by thread T2 (mutexes: write M80429, write M80428):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087ca00 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f307c2e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80429 (0x7d380087ca48) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80428 (0x7d380087ca20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17462, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x7f307c2e0c08 by thread T2 (mutexes: write M81471):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcad60)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd66d5)
    #2 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #3 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #4 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2e0c08 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c483e0)
    #1 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c498fc)
    #2 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #3 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #4 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f307c2e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17462, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7f307c2e0bb8 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5977)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd57ec)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcad78)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd66d5)
    #5 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #6 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #7 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #8 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #9 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2e0bb8 by main thread (mutexes: write M81477, write M81476):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4afa7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4ae1c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c483f8)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c498fc)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f307c2e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7f307c2e0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81476 (0x7f307c2e0b68) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17462, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7d240000d6c0 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45517)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:829:9 (mysqld+0x000000c46444)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd67e2)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d240000d6c0 by main thread (mutexes: write M331, write M330):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45517)
    #4 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:403:9 (mysqld+0x000000c45ed5)
    #5 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49b66)
    #6 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #7 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #8 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d650 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f307c2e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M330 (0x7d240000d670) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17462, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7d380000ddd0 by thread T2 (mutexes: write M81471, write M331):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 sync_cell_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:303:2 (mysqld+0x000000c46593)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:845:26 (mysqld+0x000000c46523)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd67e2)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d380000ddd0 by main thread (mutexes: write M333, write M332):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:433:9 (mysqld+0x000000c46143)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49b66)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 216 at 0x7d380000dd60 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f307c2e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M333 (0x7d380000dda8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M332 (0x7d380000dd80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17462, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7d240000cb80 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f696)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f3c1)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:143:9 (mysqld+0x000000bc4385)
    #7 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:271:13 (mysqld+0x000000bc3db8)
    #8 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #9 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #10 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #11 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #12 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #13 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #14 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #15 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #16 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cb80 by thread T3 (mutexes: write M80409, write M80408):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cb10 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80409 (0x7d240000cb58) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80408 (0x7d240000cb30) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7d240000cca0 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3256:2 (mysqld+0x000000c6ea0f)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6e91e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3e4f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cca0 by thread T1 (mutexes: write M80397, write M80396):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cc30 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80397 (0x7d240000cc78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80396 (0x7d240000cc50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T1 (tid=17461, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7d380087c990 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6eb12)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6e91e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3e4f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087c990 by thread T3 (mutexes: write M80431, write M80430):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087c920 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80431 (0x7d380087c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80430 (0x7d380087c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x7f307c2df950 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf71e0)
    #1 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b7ac)
    #2 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2df950 by main thread (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf71e0)
    #1 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08a16)
    #2 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafd83)
    #3 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc419b)
    #4 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc374c)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f307c2dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7f307c2df900 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d447)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d2bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf71f8)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b7ac)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2df900 by main thread (mutexes: write M80437, write M80435, write M80434):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d447)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d2bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf71f8)
    #4 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08a16)
    #5 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafd83)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc419b)
    #7 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc374c)
    #8 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #9 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #10 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #11 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #12 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #13 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #14 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #15 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f307c2dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80435 (0x7f307c2df8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe6de)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe456)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80266)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80434 (0x7f307c2df8b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe6de)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe456)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80266)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x7f307c2dfd50 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb121b)
    #2 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #3 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2dfd50 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badafc)
    #2 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #3 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7f307c2dfd00 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb121b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2dfd00 by main thread (mutexes: write M80437, write M80436):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badafc)
    #5 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #6 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f307c2dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80436 (0x7f307c2dfcb0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x7f307b201d98 by thread T3 (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf255)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb1319)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307b201d98 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c483e0)
    #1 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a2a9)
    #2 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae31a)
    #3 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #4 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7f307b200000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa211)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f307c2dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7f307b201d48 by thread T3 (mutexes: write M80437):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf255)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb1319)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307b201d48 by main thread (mutexes: write M80459, write M80458):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4afa7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4ae1c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c483f8)
    #4 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a2a9)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae31a)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7f307b200000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa211)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f307c2dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80459 (0x7f307b201d20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000babf91)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa7cb)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80458 (0x7f307b201cf8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000babf91)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa7cb)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7f307c2e0958 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c51647)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4c5ac)
    #3 mutex_enter_nowait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:318:7 (mysqld+0x000000c4c540)
    #4 log_peek_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3295:11 (mysqld+0x000000bd4ff6)
    #5 buf_page_is_corrupted /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:315:28 (mysqld+0x000000ba90e3)
    #6 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1845:7 (mysqld+0x000000bb0ea8)
    #7 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #8 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2e0958 by main thread (mutexes: write M81471, write M81470):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5977)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd57ec)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcad78)
    #4 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:143:2 (mysqld+0x000000bcac66)
    #5 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be86c2)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f307c2e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81470 (0x7f307c2e0908) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x000002098ae0 by main thread (mutexes: write M81485):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c6415d)
    #3 hash_table_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ha/hash0hash.c:124:2 (mysqld+0x000000c5a51f)
    #4 recv_sys_empty_hash /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:186:2 (mysqld+0x000000bdcab4)
    #5 recv_apply_hashed_log_recs /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1454:2 (mysqld+0x000000bdc60f)
    #6 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1920:3 (mysqld+0x000000bcae49)
    #7 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:154:13 (mysqld+0x000000bcace3)
    #8 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be86c2)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098ae0 by thread T3 (mutexes: write M327, write M326):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c6415d)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4011:3 (mysqld+0x000000c71a12)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is global 'ut_list_mutex' of size 104 at 0x000002098a90 (mysqld+0x000002098ae0)

  Mutex M81485 (0x7f307c2e74d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 recv_sys_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:115:2 (mysqld+0x000000bd6cfc)
    #5 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2593:3 (mysqld+0x000000be08ce)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M327 (0x000002098ab8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c63f3b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63a88)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e468)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M326 (0x000002098a90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c63f3b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63a88)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e468)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x7f307c2e7550 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bd7530)
    #1 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd875a)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb112c)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2e7550 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7f307c2e7500 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000be4e37)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000be4cac)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bd7548)
    #4 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd875a)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb112c)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f307c2e7500 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x000002093cf0 by thread T2:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84450)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Previous write of size 8 at 0x000002093cf0 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84450)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093cf0)

  Thread T2 (tid=17462, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x000002093ca0 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a84607)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a856bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84468)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Previous write of size 8 at 0x000002093ca0 by thread T3 (mutexes: write M81481, write M81480):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a84607)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a856bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84468)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093ca0)

  Mutex M81481 (0x000002093c78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8346f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a80805)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81480 (0x000002093c50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8346f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a80805)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17462, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17463, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7d240000d750 by thread T5 (mutexes: write M20343):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:581:3 (mysqld+0x000000c68795)
    #4 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #5 trx_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:147:2 (mysqld+0x000000b8d01b)
    #6 sess_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/usr/usr0sess.c:42:14 (mysqld+0x000000ba83f8)
    #7 trx_rollback_or_clean_all_without_sess /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0roll.c:420:20 (mysqld+0x000000b80304)

  Previous write of size 8 at 0x7d240000d750 by main thread (mutexes: write M329, write M328):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:160:2 (mysqld+0x000000c69545)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d6e0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f307c2dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M329 (0x7d240000d728) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M328 (0x7d240000d700) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T5 (tid=17466, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3510)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80d36)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x000002097230 by thread T7:
    #0 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2077:27 (mysqld+0x000000a7aec6)

  Previous write of size 8 at 0x000002097230 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1871:24 (mysqld+0x000000a7a599)

  Location is global 'srv_last_monitor_time' of size 8 at 0x000002097230 (mysqld+0x000002097230)

  Thread T7 (tid=17468, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T6 (tid=17467, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2077:27 in srv_error_monitor_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x000002098628 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c42f50)
    #1 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43220)
    #2 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe7d5)
    #3 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2c31)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81635)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098628 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c42f50)
    #1 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c4319b)
    #2 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:723:2 (mysqld+0x000000a7cf8b)
    #3 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2202:2 (mysqld+0x000000a7b6e8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x000002098628)

  Thread T8 (tid=17469, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x0000020985d8 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c440f7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c43f6c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c42f68)
    #4 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43220)
    #5 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe7d5)
    #6 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2c31)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81635)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x0000020985d8 by thread T8 (mutexes: write M20341, write M20340):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c440f7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c43f6c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c42f68)
    #4 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c4319b)
    #5 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:723:2 (mysqld+0x000000a7cf8b)
    #6 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2202:2 (mysqld+0x000000a7b6e8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x0000020985d8)

  Mutex M20341 (0x0000020985b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c436a3)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:978:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20340 (0x000002098588) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c436a3)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:978:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=17469, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x7f307c2dd350 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 (mysqld+0x000000b8e480)
    #1 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98ce5)
    #2 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #3 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #4 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7f307c2dd350 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2220:2 (mysqld+0x000000a7b8e0)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=17469, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Read of size 8 at 0x7f307c2dd300 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/os0sync.ic:43:17 (mysqld+0x000000b995b7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:106:8 (mysqld+0x000000b9942c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:257:8 (mysqld+0x000000b8e498)
    #4 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98ce5)
    #5 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #6 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7f307c2dd300 by thread T8 (mutexes: write M20343, write M20342):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a7d347)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a7d1bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a74a78)
    #4 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2220:2 (mysqld+0x000000a7b8e0)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f307c2dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20342 (0x7f307c2dd2b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=17469, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17458)
  Write of size 8 at 0x7f307c2e09a8 by thread T7:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 log_get_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/log0log.ic:377:2 (mysqld+0x000000a7b0ce)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2061:12 (mysqld+0x000000a7ad8e)

  Previous write of size 8 at 0x7f307c2e09a8 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcad60)
    #1 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1943:2 (mysqld+0x000000bcaf60)
    #2 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2527:2 (mysqld+0x000000a7c8aa)

  Location is heap block of size 1048608 at 0x7f307c2dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T7 (tid=17468, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=17469, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d240000cc10 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f696)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f3c1)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1793:3 (mysqld+0x000000bd2a3d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be32af)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cc10 by thread T2 (mutexes: write M80403, write M80402):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cba0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80403 (0x7d240000cbe8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80402 (0x7d240000cbc0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d380087ca70 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6eb12)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3465:5 (mysqld+0x000000c6f477)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1793:3 (mysqld+0x000000bd2a3d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be32af)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087ca70 by thread T2 (mutexes: write M80429, write M80428):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087ca00 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80429 (0x7d380087ca48) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80428 (0x7d380087ca20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7472e0c08 by thread T2 (mutexes: write M81471):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcad60)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd66d5)
    #2 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #3 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #4 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472e0c08 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c483e0)
    #1 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c498fc)
    #2 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #3 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #4 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7fd7472e0bb8 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5977)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd57ec)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcad78)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd66d5)
    #5 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #6 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #7 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #8 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #9 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472e0bb8 by main thread (mutexes: write M81477, write M81476):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4afa7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4ae1c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c483f8)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c498fc)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7fd7472e0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81476 (0x7fd7472e0b68) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d240000d6c0 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45517)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:829:9 (mysqld+0x000000c46444)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd67e2)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d240000d6c0 by main thread (mutexes: write M331, write M330):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45517)
    #4 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:403:9 (mysqld+0x000000c45ed5)
    #5 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49b66)
    #6 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #7 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #8 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d650 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M330 (0x7d240000d670) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d380000ddd0 by thread T2 (mutexes: write M81471, write M331):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 sync_cell_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:303:2 (mysqld+0x000000c46593)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:845:26 (mysqld+0x000000c46523)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd67e2)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d380000ddd0 by main thread (mutexes: write M333, write M332):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:433:9 (mysqld+0x000000c46143)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49b66)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 216 at 0x7d380000dd60 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M333 (0x7d380000dda8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M332 (0x7d380000dd80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d240000cb80 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f696)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f3c1)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:143:9 (mysqld+0x000000bc4385)
    #7 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:271:13 (mysqld+0x000000bc3db8)
    #8 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #9 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #10 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #11 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #12 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #13 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #14 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #15 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #16 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cb80 by thread T3 (mutexes: write M80409, write M80408):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cb10 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80409 (0x7d240000cb58) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80408 (0x7d240000cb30) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d240000cca0 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3256:2 (mysqld+0x000000c6ea0f)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6e91e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3e4f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cca0 by thread T1 (mutexes: write M80397, write M80396):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cc30 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80397 (0x7d240000cc78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80396 (0x7d240000cc50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T1 (tid=17475, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d380087c990 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6eb12)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6e91e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3e4f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087c990 by thread T3 (mutexes: write M80431, write M80430):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087c920 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80431 (0x7d380087c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80430 (0x7d380087c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7472df950 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf71e0)
    #1 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b7ac)
    #2 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472df950 by main thread (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf71e0)
    #1 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08a16)
    #2 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafd83)
    #3 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc419b)
    #4 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc374c)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fd7472dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7fd7472df900 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d447)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d2bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf71f8)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b7ac)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472df900 by main thread (mutexes: write M80437, write M80435, write M80434):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d447)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d2bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf71f8)
    #4 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08a16)
    #5 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafd83)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc419b)
    #7 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc374c)
    #8 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #9 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #10 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #11 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #12 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #13 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #14 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #15 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fd7472dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80435 (0x7fd7472df8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe6de)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe456)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80266)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80434 (0x7fd7472df8b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe6de)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe456)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80266)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7472dfd50 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb121b)
    #2 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #3 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472dfd50 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badafc)
    #2 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #3 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7fd7472dfd00 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb121b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472dfd00 by main thread (mutexes: write M80437, write M80436):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badafc)
    #5 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #6 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fd7472dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80436 (0x7fd7472dfcb0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7462ddd98 by thread T3 (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf255)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb1319)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7462ddd98 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c483e0)
    #1 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a2a9)
    #2 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae31a)
    #3 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #4 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7fd7462dc000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa211)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fd7472dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7fd7462ddd48 by thread T3 (mutexes: write M80437):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf255)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb1319)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7462ddd48 by main thread (mutexes: write M80459, write M80458):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4afa7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4ae1c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c483f8)
    #4 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a2a9)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae31a)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7fd7462dc000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa211)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fd7472dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80459 (0x7fd7462ddd20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000babf91)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa7cb)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80458 (0x7fd7462ddcf8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000babf91)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa7cb)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7fd7472e0958 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c51647)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4c5ac)
    #3 mutex_enter_nowait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:318:7 (mysqld+0x000000c4c540)
    #4 log_peek_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3295:11 (mysqld+0x000000bd4ff6)
    #5 buf_page_is_corrupted /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:315:28 (mysqld+0x000000ba90e3)
    #6 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1845:7 (mysqld+0x000000bb0ea8)
    #7 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #8 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472e0958 by main thread (mutexes: write M81471, write M81470):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5977)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd57ec)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcad78)
    #4 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:143:2 (mysqld+0x000000bcac66)
    #5 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be86c2)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81470 (0x7fd7472e0908) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x000002098ae0 by main thread (mutexes: write M81485):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c6415d)
    #3 hash_table_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ha/hash0hash.c:124:2 (mysqld+0x000000c5a51f)
    #4 recv_sys_empty_hash /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:186:2 (mysqld+0x000000bdcab4)
    #5 recv_apply_hashed_log_recs /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1454:2 (mysqld+0x000000bdc60f)
    #6 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1920:3 (mysqld+0x000000bcae49)
    #7 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:154:13 (mysqld+0x000000bcace3)
    #8 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be86c2)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098ae0 by thread T3 (mutexes: write M327, write M326):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c6415d)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4011:3 (mysqld+0x000000c71a12)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is global 'ut_list_mutex' of size 104 at 0x000002098a90 (mysqld+0x000002098ae0)

  Mutex M81485 (0x7fd7472e74d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 recv_sys_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:115:2 (mysqld+0x000000bd6cfc)
    #5 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2593:3 (mysqld+0x000000be08ce)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M327 (0x000002098ab8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c63f3b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63a88)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e468)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M326 (0x000002098a90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c63f3b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63a88)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e468)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7472e7550 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bd7530)
    #1 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd875a)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb112c)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472e7550 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7fd7472e7500 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000be4e37)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000be4cac)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bd7548)
    #4 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd875a)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb112c)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fd7472e7500 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x000002093cf0 by thread T2:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84450)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Previous write of size 8 at 0x000002093cf0 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84450)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093cf0)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x000002093ca0 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a84607)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a856bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84468)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Previous write of size 8 at 0x000002093ca0 by thread T3 (mutexes: write M81481, write M81480):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a84607)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a856bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84468)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093ca0)

  Mutex M81481 (0x000002093c78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8346f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a80805)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81480 (0x000002093c50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8346f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a80805)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=17477, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d240000d750 by thread T5 (mutexes: write M20343):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:581:3 (mysqld+0x000000c68795)
    #4 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #5 trx_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:147:2 (mysqld+0x000000b8d01b)
    #6 sess_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/usr/usr0sess.c:42:14 (mysqld+0x000000ba83f8)
    #7 trx_rollback_or_clean_all_without_sess /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0roll.c:420:20 (mysqld+0x000000b80304)

  Previous write of size 8 at 0x7d240000d750 by main thread (mutexes: write M329, write M328):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:160:2 (mysqld+0x000000c69545)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d6e0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7fd7472dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M329 (0x7d240000d728) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M328 (0x7d240000d700) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T5 (tid=17480, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3510)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80d36)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x000002097230 by thread T7:
    #0 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2077:27 (mysqld+0x000000a7aec6)

  Previous write of size 8 at 0x000002097230 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1871:24 (mysqld+0x000000a7a599)

  Location is global 'srv_last_monitor_time' of size 8 at 0x000002097230 (mysqld+0x000002097230)

  Thread T7 (tid=17482, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T6 (tid=17481, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2077:27 in srv_error_monitor_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7d700000e8e0 by main thread (mutexes: write M81489):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/sync0sync.ic:254:21 (mysqld+0x000000c5ef40)
    #1 mem_area_alloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:335:2 (mysqld+0x000000c5f904)
    #2 mem_heap_create_block /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0mem.c:159:11 (mysqld+0x000000c5db0d)
    #3 mem_heap_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/./../include/mem0mem.ic:405:11 (mysqld+0x000000aab3ca)
    #4 dict_load_table /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/dict0load.c:749:9 (mysqld+0x000000aacf68)
    #5 dict_table_get_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/./../include/dict0dict.ic:535:11 (mysqld+0x000000a8c550)
    #6 dict_create_or_check_foreign_constraint_tables /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/dict0crea.c:1166:11 (mysqld+0x000000a8bd1f)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1577:8 (mysqld+0x000000a80eae)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d700000e8e0 by thread T5 (mutexes: write M20343):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/sync0sync.ic:254:21 (mysqld+0x000000c5ef40)
    #1 mem_area_alloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:335:2 (mysqld+0x000000c5f904)
    #2 mem_heap_create_block /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0mem.c:159:11 (mysqld+0x000000c5db0d)
    #3 mem_heap_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/mem0mem.ic:405:11 (mysqld+0x000000b8dd1a)
    #4 trx_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:190:31 (mysqld+0x000000b8d961)
    #5 sess_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/usr/usr0sess.c:42:14 (mysqld+0x000000ba83f8)
    #6 trx_rollback_or_clean_all_without_sess /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0roll.c:420:20 (mysqld+0x000000b80304)

  Location is heap block of size 1832 at 0x7d700000e800 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:196:9 (mysqld+0x000000c5f13c)
    #4 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81489 (0x7fd7472e7cd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 dict_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/dict0dict.c:705:2 (mysqld+0x000000a939c9)
    #5 dict_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/dict0boot.c:222:2 (mysqld+0x000000a85f0b)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1464:3 (mysqld+0x000000a80cbe)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7fd7472dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T5 (tid=17480, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3510)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80d36)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d700000e890 by main thread (mutexes: write M81489):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/os0sync.ic:43:17 (mysqld+0x000000c631b7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/sync0sync.ic:106:8 (mysqld+0x000000c6302c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/sync0sync.ic:257:8 (mysqld+0x000000c5ef58)
    #4 mem_area_alloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:335:2 (mysqld+0x000000c5f904)
    #5 mem_heap_create_block /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0mem.c:159:11 (mysqld+0x000000c5db0d)
    #6 mem_heap_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/./../include/mem0mem.ic:405:11 (mysqld+0x000000aab3ca)
    #7 dict_load_table /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/dict0load.c:749:9 (mysqld+0x000000aacf68)
    #8 dict_table_get_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/./../include/dict0dict.ic:535:11 (mysqld+0x000000a8c550)
    #9 dict_create_or_check_foreign_constraint_tables /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/dict0crea.c:1166:11 (mysqld+0x000000a8bd1f)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1577:8 (mysqld+0x000000a80eae)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d700000e890 by thread T5 (mutexes: write M20343, write M20339, write M20338):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/os0sync.ic:43:17 (mysqld+0x000000c631b7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/sync0sync.ic:106:8 (mysqld+0x000000c6302c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./../include/sync0sync.ic:257:8 (mysqld+0x000000c5ef58)
    #4 mem_area_alloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:335:2 (mysqld+0x000000c5f904)
    #5 mem_heap_create_block /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0mem.c:159:11 (mysqld+0x000000c5db0d)
    #6 mem_heap_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/mem0mem.ic:405:11 (mysqld+0x000000b8dd1a)
    #7 trx_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:190:31 (mysqld+0x000000b8d961)
    #8 sess_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/usr/usr0sess.c:42:14 (mysqld+0x000000ba83f8)
    #9 trx_rollback_or_clean_all_without_sess /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0roll.c:420:20 (mysqld+0x000000b80304)

  Location is heap block of size 1832 at 0x7d700000e800 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:196:9 (mysqld+0x000000c5f13c)
    #4 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81489 (0x7fd7472e7cd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 dict_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/dict0dict.c:705:2 (mysqld+0x000000a939c9)
    #5 dict_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/dict/dict0boot.c:222:2 (mysqld+0x000000a85f0b)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1464:3 (mysqld+0x000000a80cbe)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7fd7472dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20339 (0x7d700000e868) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:205:2 (mysqld+0x000000c5f1c6)
    #5 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20338 (0x7d700000e840) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:205:2 (mysqld+0x000000c5f1c6)
    #5 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T5 (tid=17480, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3510)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80d36)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x000002098628 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c42f50)
    #1 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43220)
    #2 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe7d5)
    #3 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2c31)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81635)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098628 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c42f50)
    #1 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c4319b)
    #2 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:723:2 (mysqld+0x000000a7cf8b)
    #3 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2202:2 (mysqld+0x000000a7b6e8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x000002098628)

  Thread T8 (tid=17483, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x0000020985d8 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c440f7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c43f6c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c42f68)
    #4 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43220)
    #5 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe7d5)
    #6 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2c31)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81635)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x0000020985d8 by thread T8 (mutexes: write M20341, write M20340):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c440f7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c43f6c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c42f68)
    #4 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c4319b)
    #5 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:723:2 (mysqld+0x000000a7cf8b)
    #6 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2202:2 (mysqld+0x000000a7b6e8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x0000020985d8)

  Mutex M20341 (0x0000020985b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c436a3)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:978:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20340 (0x000002098588) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c436a3)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:978:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=17483, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7472dd350 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 (mysqld+0x000000b8e480)
    #1 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98ce5)
    #2 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #3 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #4 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7fd7472dd350 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2220:2 (mysqld+0x000000a7b8e0)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=17483, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7fd7472dd300 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/os0sync.ic:43:17 (mysqld+0x000000b995b7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:106:8 (mysqld+0x000000b9942c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:257:8 (mysqld+0x000000b8e498)
    #4 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98ce5)
    #5 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #6 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7fd7472dd300 by thread T8 (mutexes: write M20343, write M20342):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a7d347)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a7d1bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a74a78)
    #4 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2220:2 (mysqld+0x000000a7b8e0)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7fd7472dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20342 (0x7fd7472dd2b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=17483, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7472e09a8 by thread T7:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 log_get_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/log0log.ic:377:2 (mysqld+0x000000a7b0ce)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2061:12 (mysqld+0x000000a7ad8e)

  Previous write of size 8 at 0x7fd7472e09a8 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcad60)
    #1 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1943:2 (mysqld+0x000000bcaf60)
    #2 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2527:2 (mysqld+0x000000a7c8aa)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T7 (tid=17482, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=17483, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x000002096e50 by thread T9:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 process_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:298:3 (mysqld+0x000000dc9734)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2355:7 (mysqld+0x000000703c29)

  Previous write of size 8 at 0x000002096e50 by thread T10 (mutexes: write M81561, write M81560):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:156:3 (mysqld+0x000000dc8bc3)
    #2 my_real_read(st_net*, unsigned long*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/net_serv.cc:823:11 (mysqld+0x0000006eb6c6)
    #3 my_net_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/net_serv.cc:983:11 (mysqld+0x0000006ea3d5)
    #4 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:925:12 (mysqld+0x000000731d5a)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1142:16 (mysqld+0x00000072ff8e)

  Location is global 'LOCK_alarm' of size 104 at 0x000002096e00 (mysqld+0x000002096e50)

  Mutex M81561 (0x000002096e28) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:80:3 (mysqld+0x000000dc867d)
    #3 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2254:3 (mysqld+0x00000070373b)

  Mutex M81560 (0x000002096e00) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:80:3 (mysqld+0x000000dc867d)
    #3 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2254:3 (mysqld+0x00000070373b)

  Thread T9 (tid=17484, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

  Thread T10 (tid=17491, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 1 at 0x00000208858e by thread T9:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2328:12 (mysqld+0x000000703b24)

  Previous read of size 1 at 0x00000208858e by main thread:
    #0 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3978:11 (mysqld+0x000000708fa5)
    #1 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Location is global 'abort_loop' of size 1 at 0x00000208858e (mysqld+0x00000208858e)

  Thread T9 (tid=17484, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2328:12 in signal_hand
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x00000208a450 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3536:10 (mysqld+0x000000704729)

  Previous write of size 8 at 0x00000208a450 by thread T20 (mutexes: write M244, write M243):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 close_connections() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:679:10 (mysqld+0x00000070a4f4)
    #2 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:987:3 (mysqld+0x00000070149d)
    #3 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000208a400 (mysqld+0x00000208a450)

  Mutex M244 (0x00000208a428) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M243 (0x00000208a400) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x0000020933c8 by thread T20:
    #0 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1474:28 (mysqld+0x000000948db6)
    #1 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #2 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #3 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #4 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #5 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 8 at 0x0000020933c8 by thread T8:
    #0 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2554:6 (mysqld+0x000000a7c9be)

  Location is global 'srv_fast_shutdown' of size 8 at 0x0000020933c8 (mysqld+0x0000020933c8)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T8 (tid=17483, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1474:28 in innobase_end()
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x000002093518 by thread T20:
    #0 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3058:21 (mysqld+0x000000bd3b00)
    #1 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a847de)
    #2 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #3 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #4 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #5 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #6 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #7 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 8 at 0x000002093518 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1991:6 (mysqld+0x000000a7ac10)

  Location is global 'srv_shutdown_state' of size 8 at 0x000002093518 (mysqld+0x000002093518)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T6 (tid=17481, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3058:21 in logs_empty_and_mark_files_at_shutdown
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7472e0ac0 by thread T20 (mutexes: write M81471):
    #0 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1787:21 (mysqld+0x000000bd29c6)
    #1 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #2 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1980:2 (mysqld+0x000000bcb139)
    #3 log_make_checkpoint_at /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:2022:13 (mysqld+0x000000bd2f12)
    #4 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3127:3 (mysqld+0x000000bd3dbf)
    #5 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a847de)
    #6 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #7 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #8 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #9 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #10 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #11 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 8 at 0x7fd7472e0ac0 by thread T7 (mutexes: write M20345):
    #0 log_refresh_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3355:36 (mysqld+0x000000bd570c)
    #1 srv_refresh_innodb_monitor_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1590:2 (mysqld+0x000000a7b3ad)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2081:3 (mysqld+0x000000a7aef2)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20345 (0x0000020970f0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:875:2 (mysqld+0x000000a750ff)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T7 (tid=17482, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1787:21 in log_group_checkpoint
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd749c29020 by thread T20 (mutexes: write M81477, write M331):
    #0 sync_array_reserve_cell /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:357:22 (mysqld+0x000000c45ac5)
    #1 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:267:10 (mysqld+0x000000c499ad)
    #2 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000bd2c32)
    #3 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1986:3 (mysqld+0x000000bcb1a5)
    #4 log_make_checkpoint_at /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:2022:13 (mysqld+0x000000bd2f12)
    #5 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3127:3 (mysqld+0x000000bd3dbf)
    #6 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a847de)
    #7 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #8 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #9 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #10 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #11 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #12 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 8 at 0x7fd749c29020 by thread T7:
    #0 sync_array_print_long_waits /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:914:27 (mysqld+0x000000c469d7)
    #1 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2084:6 (mysqld+0x000000a7aef7)

  Location is heap block of size 880032 at 0x7fd749c29000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:199:15 (mysqld+0x000000c44a43)
    #4 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7fd7472e0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T7 (tid=17482, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:357:22 in sync_array_reserve_cell
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x000002096248 by thread T2:
    #0 os_file_pwrite /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:1988:18 (mysqld+0x000000c6d1b1)
    #1 os_file_write /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2441:8 (mysqld+0x000000c6c483)
    #2 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3980:9 (mysqld+0x000000c7160b)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous read of size 8 at 0x000002096248 by thread T7 (mutexes: write M20345):
    #0 os_aio_refresh_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4259:25 (mysqld+0x000000c738c8)
    #1 srv_refresh_innodb_monitor_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1585:2 (mysqld+0x000000a7b330)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2081:3 (mysqld+0x000000a7aef2)

  Location is global 'os_n_file_writes' of size 8 at 0x000002096248 (mysqld+0x000002096248)

  Mutex M20345 (0x0000020970f0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:875:2 (mysqld+0x000000a750ff)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T7 (tid=17482, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:1988:18 in os_file_pwrite
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x000002096250 by thread T2:
    #0 os_file_flush /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:1839:13 (mysqld+0x000000c6c739)
    #1 fil_flush /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4242:4 (mysqld+0x000000c05b2f)
    #2 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1069:11 (mysqld+0x000000bcec46)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous read of size 8 at 0x000002096250 by thread T7 (mutexes: write M20345):
    #0 os_aio_refresh_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4260:20 (mysqld+0x000000c73904)
    #1 srv_refresh_innodb_monitor_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1585:2 (mysqld+0x000000a7b330)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2081:3 (mysqld+0x000000a7aef2)

  Location is global 'os_n_fsyncs' of size 8 at 0x000002096250 (mysqld+0x000002096250)

  Mutex M20345 (0x0000020970f0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:875:2 (mysqld+0x000000a750ff)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T7 (tid=17482, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:1839:13 in os_file_flush
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x7fd7472e0b48 by thread T2 (mutexes: write M81471, write M81477):
    #0 rw_lock_set_writer /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:80:15 (mysqld+0x000000bd683a)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:447:3 (mysqld+0x000000bd673a)
    #2 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #3 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #4 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous read of size 8 at 0x7fd7472e0b48 by thread T6 (mutexes: write M331):
    #0 rw_lock_get_writer /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0rw.ic:71:15 (mysqld+0x000000c479f6)
    #1 sync_arr_cell_can_wake_up /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:778:7 (mysqld+0x000000c468b9)
    #2 sync_arr_wake_threads_if_sema_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:882:29 (mysqld+0x000000c46687)
    #3 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1886:2 (mysqld+0x000000a7a5ee)

  Location is heap block of size 1048608 at 0x7fd7472dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fd7472e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7fd7472e0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=17476, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T6 (tid=17481, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:80:15 in rw_lock_set_writer
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x0000020932a8 by thread T20:
    #0 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3189:6 (mysqld+0x000000bd4013)
    #1 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a847de)
    #2 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #3 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #4 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #5 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #6 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #7 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous write of size 8 at 0x0000020932a8 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2015:38 (mysqld+0x000000a7aced)

  Location is global 'srv_lock_timeout_and_monitor_active' of size 8 at 0x0000020932a8 (mysqld+0x0000020932a8)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T6 (tid=17481, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3189:6 in logs_empty_and_mark_files_at_shutdown
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x0000020932b0 by thread T7:
    #0 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2111:27 (mysqld+0x000000a7b063)

  Previous read of size 8 at 0x0000020932b0 by thread T20:
    #0 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3198:6 (mysqld+0x000000bd4057)
    #1 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a847de)
    #2 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #3 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #4 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #5 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #6 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #7 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Location is global 'srv_error_monitor_active' of size 8 at 0x0000020932b0 (mysqld+0x0000020932b0)

  Thread T7 (tid=17482, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2111:27 in srv_error_monitor_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x000002096240 by thread T20:
    #0 os_file_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2142:31 (mysqld+0x000000c6c993)
    #1 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3397:11 (mysqld+0x000000c6f0d1)
    #2 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #3 fil_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4065:9 (mysqld+0x000000c0b484)
    #4 fil_write_lsn_and_arch_no_to_file /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1481:2 (mysqld+0x000000c016ec)
    #5 fil_write_flushed_lsn_to_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1525:11 (mysqld+0x000000c014f1)
    #6 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3220:3 (mysqld+0x000000bd45cc)
    #7 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a847de)
    #8 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #9 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #10 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #11 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #12 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #13 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous write of size 8 at 0x000002096240 by thread T7 (mutexes: write M20345):
    #0 os_aio_refresh_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4261:31 (mysqld+0x000000c73940)
    #1 srv_refresh_innodb_monitor_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1585:2 (mysqld+0x000000a7b330)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2081:3 (mysqld+0x000000a7aef2)

  Location is global 'os_bytes_read_since_printout' of size 8 at 0x000002096240 (mysqld+0x000002096240)

  Mutex M20345 (0x0000020970f0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:875:2 (mysqld+0x000000a750ff)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T7 (tid=17482, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2142:31 in os_file_read
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 8 at 0x000002096238 by thread T20:
    #0 os_file_pread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:1904:17 (mysqld+0x000000c6cce1)
    #1 os_file_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2145:8 (mysqld+0x000000c6c9b7)
    #2 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3397:11 (mysqld+0x000000c6f0d1)
    #3 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #4 fil_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4065:9 (mysqld+0x000000c0b484)
    #5 fil_write_lsn_and_arch_no_to_file /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1481:2 (mysqld+0x000000c016ec)
    #6 fil_write_flushed_lsn_to_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1525:11 (mysqld+0x000000c014f1)
    #7 logs_empty_and_mark_files_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3220:3 (mysqld+0x000000bd45cc)
    #8 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1776:2 (mysqld+0x000000a847de)
    #9 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #10 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #11 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #12 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #13 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #14 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous read of size 8 at 0x000002096238 by thread T7 (mutexes: write M20345):
    #0 os_aio_refresh_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4258:24 (mysqld+0x000000c7388f)
    #1 srv_refresh_innodb_monitor_stats /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1585:2 (mysqld+0x000000a7b330)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2081:3 (mysqld+0x000000a7aef2)

  Location is global 'os_n_file_reads' of size 8 at 0x000002096238 (mysqld+0x000002096238)

  Mutex M20345 (0x0000020970f0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:875:2 (mysqld+0x000000a750ff)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T7 (tid=17482, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:1904:17 in os_file_pread
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d3800220fd0 by thread T20 (mutexes: write M20343):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 srv_release_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:809:4 (mysqld+0x000000a74c74)
    #4 srv_wake_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2159:2 (mysqld+0x000000a7b61e)
    #5 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1812:3 (mysqld+0x000000a848d4)
    #6 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #7 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #8 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #9 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #10 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #11 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous write of size 8 at 0x7d3800220fd0 by thread T8 (mutexes: write M20347, write M20346):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2596:2 (mysqld+0x000000a7cb17)

  Location is heap block of size 216 at 0x7d3800220f60 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:884:17 (mysqld+0x000000a7523e)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7fd7472dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20347 (0x7d3800220fa8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:884:17 (mysqld+0x000000a7523e)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20346 (0x7d3800220f80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:884:17 (mysqld+0x000000a7523e)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T8 (tid=17483, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 8 at 0x7d380087cb50 by thread T20:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_wake_all_threads_at_shutdown /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2934:3 (mysqld+0x000000c6e80e)
    #4 innobase_shutdown_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1816:3 (mysqld+0x000000a848d9)
    #5 innobase_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1476:9 (mysqld+0x000000948dde)
    #6 ha_panic(ha_panic_function) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:527:12 (mysqld+0x000000923196)
    #7 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1112:10 (mysqld+0x000000701877)
    #8 unireg_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1057:3 (mysqld+0x0000007016f6)
    #9 kill_server(void*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:995:5 (mysqld+0x0000007014c5)
    #10 kill_server_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1017:3 (mysqld+0x0000007011a0)

  Previous write of size 8 at 0x7d380087cb50 by thread T1 (mutexes: write M80427, write M80426):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087cae0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80427 (0x7d380087cb28) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80426 (0x7d380087cb00) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T20 (tid=20227, running) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

  Thread T1 (tid=17475, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Read of size 4 at 0x00000208af84 by thread T9:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 (mysqld+0x000000703968)

  Previous write of size 4 at 0x00000208af84 by thread T20:
    [failed to restore the stack]

  Location is global 'cleanup_done' of size 4 at 0x00000208af84 (mysqld+0x00000208af84)

  Thread T9 (tid=17484, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

  Thread T20 (tid=20227, finished) created by thread T9 at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2333:6 (mysqld+0x000000703b92)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 in signal_hand
==================
==================
WARNING: ThreadSanitizer: data race (pid=17473)
  Write of size 1 at 0x00000208af81 by thread T9:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 (mysqld+0x0000007039cf)

  Previous read of size 1 at 0x00000208af81 by main thread:
    #0 wait_for_signal_thread_to_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1200:26 (mysqld+0x000000701e77)
    #1 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3562:3 (mysqld+0x000000704869)

  Location is global 'signal_thread_in_use' of size 1 at 0x00000208af81 (mysqld+0x00000208af81)

  Thread T9 (tid=17484, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 in signal_hand
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=17473)
  Thread T1 (tid=17475, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  And 3 more similar thread leaks.

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=17473)
  Thread T5 (tid=17480, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3510)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80d36)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=17473)
  Thread T6 (tid=17481, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=17473)
  Thread T7 (tid=17482, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=17473)
  Thread T8 (tid=17483, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 in os_thread_create
==================
ThreadSanitizer: reported 53 warnings
