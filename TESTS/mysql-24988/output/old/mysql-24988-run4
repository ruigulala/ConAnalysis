==================
WARNING: ThreadSanitizer: data race (pid=32724)
  Read of size 8 at 0x00000208a450 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 handle_bootstrap /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1322:10 (mysqld+0x0000007340e1)

  Previous write of size 8 at 0x00000208a450 by main thread (mutexes: write M244, write M243):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 bootstrap(_IO_FILE*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3792:10 (mysqld+0x000000708992)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3493:5 (mysqld+0x0000007044fa)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000208a400 (mysqld+0x00000208a450)

  Mutex M244 (0x00000208a428) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M243 (0x00000208a400) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T2 (tid=32728, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 bootstrap(_IO_FILE*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3784:7 (mysqld+0x000000708925)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3493:5 (mysqld+0x0000007044fa)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32724)
  Read of size 4 at 0x00000208af84 by thread T1:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 (mysqld+0x000000703968)

  Previous write of size 4 at 0x00000208af84 by main thread:
    #0 clean_up(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1084:19 (mysqld+0x000000701794)
    #1 unireg_abort /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1071:3 (mysqld+0x000000701db6)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3495:5 (mysqld+0x00000070452f)

  Location is global 'cleanup_done' of size 4 at 0x00000208af84 (mysqld+0x00000208af84)

  Thread T1 (tid=32727, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2311:9 in signal_hand
==================
==================
WARNING: ThreadSanitizer: data race (pid=32724)
  Write of size 1 at 0x00000208af81 by thread T1:
    #0 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 (mysqld+0x0000007039cf)

  Previous read of size 1 at 0x00000208af81 by main thread:
    #0 wait_for_signal_thread_to_end() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1200:26 (mysqld+0x000000701e77)
    #1 unireg_abort /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1073:3 (mysqld+0x000000701e00)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3495:5 (mysqld+0x00000070452f)

  Location is global 'signal_thread_in_use' of size 1 at 0x00000208af81 (mysqld+0x00000208af81)

  Thread T1 (tid=32727, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2315:27 in signal_hand
==================
ThreadSanitizer: reported 3 warnings
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d240000cc10 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f696)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f3c1)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1793:3 (mysqld+0x000000bd2a3d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be32af)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cc10 by thread T2 (mutexes: write M80403, write M80402):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cba0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fe1d1fe0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80403 (0x7d240000cbe8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80402 (0x7d240000cbc0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d380087ca70 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6eb12)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3465:5 (mysqld+0x000000c6f477)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1793:3 (mysqld+0x000000bd2a3d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be32af)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087ca70 by thread T2 (mutexes: write M80429, write M80428):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087ca00 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fe1d1fe0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80429 (0x7d380087ca48) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80428 (0x7d380087ca20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x7fe1d1fe0c08 by thread T2 (mutexes: write M81471):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcad60)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd66d5)
    #2 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #3 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #4 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fe0c08 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c483e0)
    #1 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c498fc)
    #2 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #3 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #4 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fe1d1fe0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7fe1d1fe0bb8 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5977)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd57ec)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcad78)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd66d5)
    #5 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #6 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #7 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #8 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #9 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fe0bb8 by main thread (mutexes: write M81477, write M81476):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4afa7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4ae1c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c483f8)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c498fc)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fe1d1fe0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7fe1d1fe0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81476 (0x7fe1d1fe0b68) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d240000d6c0 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45517)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:829:9 (mysqld+0x000000c46444)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd67e2)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d240000d6c0 by main thread (mutexes: write M331, write M330):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45517)
    #4 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:403:9 (mysqld+0x000000c45ed5)
    #5 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49b66)
    #6 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #7 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #8 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d650 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fe1d1fe0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M330 (0x7d240000d670) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d380000ddd0 by thread T2 (mutexes: write M81471, write M331):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 sync_cell_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:303:2 (mysqld+0x000000c46593)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:845:26 (mysqld+0x000000c46523)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd67e2)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d380000ddd0 by main thread (mutexes: write M333, write M332):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:433:9 (mysqld+0x000000c46143)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49b66)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 216 at 0x7d380000dd60 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fe1d1fe0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M333 (0x7d380000dda8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M332 (0x7d380000dd80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d240000cb80 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f696)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f3c1)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:143:9 (mysqld+0x000000bc4385)
    #7 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:271:13 (mysqld+0x000000bc3db8)
    #8 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #9 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #10 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #11 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #12 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #13 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #14 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #15 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #16 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cb80 by thread T3 (mutexes: write M80409, write M80408):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cb10 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80409 (0x7d240000cb58) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80408 (0x7d240000cb30) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d240000cca0 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3256:2 (mysqld+0x000000c6ea0f)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6e91e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3e4f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cca0 by thread T1 (mutexes: write M80397, write M80396):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cc30 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80397 (0x7d240000cc78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80396 (0x7d240000cc50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T1 (tid=32733, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d380087c990 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6eb12)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6e91e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3e4f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087c990 by thread T3 (mutexes: write M80431, write M80430):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087c920 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80431 (0x7d380087c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80430 (0x7d380087c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x7fe1d1fdf950 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf71e0)
    #1 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b7ac)
    #2 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fdf950 by main thread (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf71e0)
    #1 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08a16)
    #2 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafd83)
    #3 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc419b)
    #4 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc374c)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fe1d1fdfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7fe1d1fdf900 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d447)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d2bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf71f8)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b7ac)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fdf900 by main thread (mutexes: write M80437, write M80435, write M80434):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d447)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d2bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf71f8)
    #4 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08a16)
    #5 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafd83)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc419b)
    #7 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc374c)
    #8 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #9 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #10 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #11 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #12 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #13 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #14 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #15 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fe1d1fdfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80435 (0x7fe1d1fdf8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe6de)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe456)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80266)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80434 (0x7fe1d1fdf8b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe6de)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe456)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80266)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x7fe1d1fdfd50 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb121b)
    #2 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #3 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fdfd50 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badafc)
    #2 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #3 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7fe1d1fdfd00 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb121b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fdfd00 by main thread (mutexes: write M80437, write M80436):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badafc)
    #5 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #6 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fe1d1fdfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80436 (0x7fe1d1fdfcb0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x7fe1d0fb9d98 by thread T3 (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf255)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb1319)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d0fb9d98 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c483e0)
    #1 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a2a9)
    #2 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae31a)
    #3 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #4 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7fe1d0fb8000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa211)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fe1d1fdfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7fe1d0fb9d48 by thread T3 (mutexes: write M80437):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf255)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb1319)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d0fb9d48 by main thread (mutexes: write M80459, write M80458):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4afa7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4ae1c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c483f8)
    #4 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a2a9)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae31a)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7fe1d0fb8000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa211)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7fe1d1fdfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80459 (0x7fe1d0fb9d20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000babf91)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa7cb)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80458 (0x7fe1d0fb9cf8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000babf91)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa7cb)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7fe1d1fe0958 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c51647)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4c5ac)
    #3 mutex_enter_nowait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:318:7 (mysqld+0x000000c4c540)
    #4 log_peek_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3295:11 (mysqld+0x000000bd4ff6)
    #5 buf_page_is_corrupted /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:315:28 (mysqld+0x000000ba90e3)
    #6 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1845:7 (mysqld+0x000000bb0ea8)
    #7 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #8 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fe0958 by main thread (mutexes: write M81471, write M81470):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5977)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd57ec)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcad78)
    #4 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:143:2 (mysqld+0x000000bcac66)
    #5 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be86c2)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7fe1d1fe0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81470 (0x7fe1d1fe0908) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x000002098ae0 by main thread (mutexes: write M81485):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c6415d)
    #3 hash_table_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ha/hash0hash.c:124:2 (mysqld+0x000000c5a51f)
    #4 recv_sys_empty_hash /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:186:2 (mysqld+0x000000bdcab4)
    #5 recv_apply_hashed_log_recs /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1454:2 (mysqld+0x000000bdc60f)
    #6 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1920:3 (mysqld+0x000000bcae49)
    #7 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:154:13 (mysqld+0x000000bcace3)
    #8 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be86c2)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098ae0 by thread T3 (mutexes: write M327, write M326):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c6415d)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4011:3 (mysqld+0x000000c71a12)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is global 'ut_list_mutex' of size 104 at 0x000002098a90 (mysqld+0x000002098ae0)

  Mutex M81485 (0x7fe1d1fe74d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 recv_sys_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:115:2 (mysqld+0x000000bd6cfc)
    #5 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2593:3 (mysqld+0x000000be08ce)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M327 (0x000002098ab8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c63f3b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63a88)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e468)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M326 (0x000002098a90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c63f3b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63a88)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e468)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x7fe1d1fe7550 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bd7530)
    #1 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd875a)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb112c)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fe7550 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7fe1d1fe7500 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000be4e37)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000be4cac)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bd7548)
    #4 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd875a)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb112c)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7fe1d1fe7500 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d240000d630 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_file_pwrite /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:1991:9 (mysqld+0x000000c6d1dc)
    #4 os_file_write /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2441:8 (mysqld+0x000000c6c483)
    #5 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3980:9 (mysqld+0x000000c7160b)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d240000d630 by thread T3 (mutexes: write M80363, write M80362):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_file_pread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:1914:9 (mysqld+0x000000c6cdbe)
    #4 os_file_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2145:8 (mysqld+0x000000c6c9b7)
    #5 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3987:9 (mysqld+0x000000c71732)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000d5c0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_io_init_simple /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:496:24 (mysqld+0x000000c69c89)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2828:2 (mysqld+0x000000c6db7f)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80363 (0x7d240000d608) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_io_init_simple /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:496:24 (mysqld+0x000000c69c89)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2828:2 (mysqld+0x000000c6db7f)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80362 (0x7d240000d5e0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_io_init_simple /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:496:24 (mysqld+0x000000c69c89)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2828:2 (mysqld+0x000000c6db7f)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x000002093cf0 by thread T2:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84450)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Previous write of size 8 at 0x000002093cf0 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84450)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093cf0)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x000002093ca0 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a84607)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a856bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84468)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Previous write of size 8 at 0x000002093ca0 by thread T3 (mutexes: write M81481, write M81480):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a84607)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a856bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84468)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093ca0)

  Mutex M81481 (0x000002093c78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8346f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a80805)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81480 (0x000002093c50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8346f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a80805)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32734, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32735, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7d240000d750 by thread T5 (mutexes: write M20343):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:581:3 (mysqld+0x000000c68795)
    #4 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #5 trx_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:147:2 (mysqld+0x000000b8d01b)
    #6 sess_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/usr/usr0sess.c:42:14 (mysqld+0x000000ba83f8)
    #7 trx_rollback_or_clean_all_without_sess /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0roll.c:420:20 (mysqld+0x000000b80304)

  Previous write of size 8 at 0x7d240000d750 by main thread (mutexes: write M329, write M328):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:160:2 (mysqld+0x000000c69545)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d6e0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7fe1d1fdd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M329 (0x7d240000d728) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M328 (0x7d240000d700) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T5 (tid=32738, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3510)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80d36)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x000002097230 by thread T7:
    #0 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2077:27 (mysqld+0x000000a7aec6)

  Previous write of size 8 at 0x000002097230 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1871:24 (mysqld+0x000000a7a599)

  Location is global 'srv_last_monitor_time' of size 8 at 0x000002097230 (mysqld+0x000002097230)

  Thread T7 (tid=32740, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T6 (tid=32739, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2077:27 in srv_error_monitor_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x000002098628 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c42f50)
    #1 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43220)
    #2 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe7d5)
    #3 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2c31)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81635)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098628 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c42f50)
    #1 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c4319b)
    #2 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:723:2 (mysqld+0x000000a7cf8b)
    #3 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2202:2 (mysqld+0x000000a7b6e8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x000002098628)

  Thread T8 (tid=32741, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x0000020985d8 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c440f7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c43f6c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c42f68)
    #4 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43220)
    #5 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe7d5)
    #6 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2c31)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81635)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x0000020985d8 by thread T8 (mutexes: write M20341, write M20340):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c440f7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c43f6c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c42f68)
    #4 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c4319b)
    #5 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:723:2 (mysqld+0x000000a7cf8b)
    #6 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2202:2 (mysqld+0x000000a7b6e8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x0000020985d8)

  Mutex M20341 (0x0000020985b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c436a3)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:978:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20340 (0x000002098588) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c436a3)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:978:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=32741, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x7fe1d1fdd350 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 (mysqld+0x000000b8e480)
    #1 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98ce5)
    #2 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #3 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #4 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7fe1d1fdd350 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2220:2 (mysqld+0x000000a7b8e0)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=32741, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Read of size 8 at 0x7fe1d1fdd300 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/os0sync.ic:43:17 (mysqld+0x000000b995b7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:106:8 (mysqld+0x000000b9942c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:257:8 (mysqld+0x000000b8e498)
    #4 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98ce5)
    #5 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #6 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7fe1d1fdd300 by thread T8 (mutexes: write M20343, write M20342):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a7d347)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a7d1bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a74a78)
    #4 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2220:2 (mysqld+0x000000a7b8e0)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7fe1d1fdd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20342 (0x7fe1d1fdd2b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=32741, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32730)
  Write of size 8 at 0x7fe1d1fe09a8 by thread T7:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 log_get_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/log0log.ic:377:2 (mysqld+0x000000a7b0ce)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2061:12 (mysqld+0x000000a7ad8e)

  Previous write of size 8 at 0x7fe1d1fe09a8 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcad60)
    #1 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1943:2 (mysqld+0x000000bcaf60)
    #2 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2527:2 (mysqld+0x000000a7c8aa)

  Location is heap block of size 1048608 at 0x7fe1d1fdd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T7 (tid=32740, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=32741, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d240000cc10 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f696)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f3c1)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1793:3 (mysqld+0x000000bd2a3d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be32af)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cc10 by thread T2 (mutexes: write M80403, write M80402):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cba0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f948a1e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80403 (0x7d240000cbe8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80402 (0x7d240000cbc0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2844:21 (mysqld+0x000000c6dc87)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32748, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d380087ca70 by main thread (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6eb12)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3465:5 (mysqld+0x000000c6f477)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 log_group_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1793:3 (mysqld+0x000000bd2a3d)
    #7 log_groups_write_checkpoint_info /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1891:3 (mysqld+0x000000bd2333)
    #8 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:419:2 (mysqld+0x000000be32af)
    #9 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087ca70 by thread T2 (mutexes: write M80429, write M80428):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087ca00 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f948a1e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80429 (0x7d380087ca48) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80428 (0x7d380087ca20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32748, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x7f948a1e0c08 by thread T2 (mutexes: write M81471):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcad60)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd66d5)
    #2 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #3 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #4 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1e0c08 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c483e0)
    #1 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c498fc)
    #2 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #3 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #4 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f948a1e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32748, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7f948a1e0bb8 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5977)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd57ec)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcad78)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:437:2 (mysqld+0x000000bd66d5)
    #5 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #6 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #7 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #8 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #9 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1e0bb8 by main thread (mutexes: write M81477, write M81476):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4afa7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4ae1c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c483f8)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:253:2 (mysqld+0x000000c498fc)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f948a1e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81477 (0x7f948a1e0b90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81476 (0x7f948a1e0b68) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:801:2 (mysqld+0x000000bcd8f0)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32748, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d240000d6c0 by thread T2 (mutexes: write M81471):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45517)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:829:9 (mysqld+0x000000c46444)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd67e2)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d240000d6c0 by main thread (mutexes: write M331, write M330):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 sync_array_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:145:3 (mysqld+0x000000c45517)
    #4 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:403:9 (mysqld+0x000000c45ed5)
    #5 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49b66)
    #6 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #7 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #8 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d650 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f948a1e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M330 (0x7d240000d670) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32748, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d380000ddd0 by thread T2 (mutexes: write M81471, write M331):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 sync_cell_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:303:2 (mysqld+0x000000c46593)
    #4 sync_array_signal_object /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:845:26 (mysqld+0x000000c46523)
    #5 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:465:3 (mysqld+0x000000bd67e2)
    #6 log_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1620:2 (mysqld+0x000000bd667e)
    #7 log_io_complete_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1637:3 (mysqld+0x000000bcf176)
    #8 log_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1079:3 (mysqld+0x000000bcec4b)
    #9 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4158:3 (mysqld+0x000000c0b87e)
    #10 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7d380000ddd0 by main thread (mutexes: write M333, write M332):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 sync_array_wait_event /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:433:9 (mysqld+0x000000c46143)
    #4 rw_lock_s_lock_spin /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:286:11 (mysqld+0x000000c49b66)
    #5 rw_lock_s_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0rw.ic:254:3 (mysqld+0x000000be6d82)
    #6 recv_synchronize_groups /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:424:2 (mysqld+0x000000be3310)
    #7 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2870:2 (mysqld+0x000000be1f62)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 216 at 0x7d380000dd60 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f948a1e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M331 (0x7d240000d698) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:210:19 (mysqld+0x000000c44b52)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M333 (0x7d380000dda8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M332 (0x7d380000dd80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 sync_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0arr.c:223:31 (mysqld+0x000000c44cbc)
    #5 sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:1253:28 (mysqld+0x000000c51088)
    #6 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:976:2 (mysqld+0x000000a76456)
    #7 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32748, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d240000cb80 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_array_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3117:2 (mysqld+0x000000c6f696)
    #4 os_aio /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3431:9 (mysqld+0x000000c6f3c1)
    #5 fil_io /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4020:8 (mysqld+0x000000c0b1bf)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:143:9 (mysqld+0x000000bc4385)
    #7 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:271:13 (mysqld+0x000000bc3db8)
    #8 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #9 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #10 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #11 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #12 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #13 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #14 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #15 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #16 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cb80 by thread T3 (mutexes: write M80409, write M80408):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cb10 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80409 (0x7d240000cb58) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80408 (0x7d240000cb30) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2848:22 (mysqld+0x000000c6dce6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d240000cca0 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3256:2 (mysqld+0x000000c6ea0f)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6e91e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3e4f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d240000cca0 by thread T1 (mutexes: write M80397, write M80396):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3795:2 (mysqld+0x000000c7029d)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 136 at 0x7d240000cc30 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80397 (0x7d240000cc78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80396 (0x7d240000cc50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_aio_array_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2767:19 (mysqld+0x000000c6e482)
    #5 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2840:22 (mysqld+0x000000c6dc31)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T1 (tid=32747, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d380087c990 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:216:2 (mysqld+0x000000c68d19)
    #3 os_aio_simulated_wake_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3271:3 (mysqld+0x000000c6eb12)
    #4 os_aio_simulated_wake_handler_threads /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:3293:3 (mysqld+0x000000c6e91e)
    #5 buf_read_ahead_random /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:289:2 (mysqld+0x000000bc3e4f)
    #6 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:326:10 (mysqld+0x000000bc3725)
    #7 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #8 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #9 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #10 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #11 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #12 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #13 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #14 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7d380087c990 by thread T3 (mutexes: write M80431, write M80430):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_event_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:317:2 (mysqld+0x000000c692c8)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4054:2 (mysqld+0x000000c71eb3)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is heap block of size 216 at 0x7d380087c920 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:135:10 (mysqld+0x000000c682b6)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80431 (0x7d380087c968) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80430 (0x7d380087c940) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_event_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:137:2 (mysqld+0x000000c682c3)
    #4 os_aio_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:2871:35 (mysqld+0x000000c6e185)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1221:3 (mysqld+0x000000a801f0)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x7f948a1df950 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf71e0)
    #1 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b7ac)
    #2 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1df950 by main thread (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 (mysqld+0x000000bf71e0)
    #1 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08a16)
    #2 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafd83)
    #3 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc419b)
    #4 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc374c)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f948a1dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7f948a1df900 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d447)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d2bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf71f8)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4139:2 (mysqld+0x000000c0b7ac)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1df900 by main thread (mutexes: write M80437, write M80435, write M80434):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/os0sync.ic:43:17 (mysqld+0x000000c0d447)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:106:8 (mysqld+0x000000c0d2bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/./../include/sync0sync.ic:257:8 (mysqld+0x000000bf71f8)
    #4 fil_tablespace_deleted_or_being_deleted_in_mem /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:3227:2 (mysqld+0x000000c08a16)
    #5 buf_page_init_for_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1654:6 (mysqld+0x000000bafd83)
    #6 buf_read_page_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:125:10 (mysqld+0x000000bc419b)
    #7 buf_read_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0rea.c:331:11 (mysqld+0x000000bc374c)
    #8 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1124:3 (mysqld+0x000000badcbc)
    #9 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #10 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #11 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #12 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #13 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #14 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #15 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f948a1dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80435 (0x7f948a1df8d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe6de)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe456)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80266)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80434 (0x7f948a1df8b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 fil_system_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1293:2 (mysqld+0x000000bfe6de)
    #5 fil_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:1334:15 (mysqld+0x000000bfe456)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1232:2 (mysqld+0x000000a80266)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x7f948a1dfd50 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb121b)
    #2 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #3 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1dfd50 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badafc)
    #2 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #3 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7f948a1dfd00 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1896:2 (mysqld+0x000000bb121b)
    #5 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #6 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1dfd00 by main thread (mutexes: write M80437, write M80436):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1096:2 (mysqld+0x000000badafc)
    #5 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #6 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f948a1dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80436 (0x7f948a1dfcb0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x7f9489161d98 by thread T3 (mutexes: write M80437):
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 (mysqld+0x000000babc00)
    #1 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf255)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb1319)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f9489161d98 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:254:21 (mysqld+0x000000c483e0)
    #1 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a2a9)
    #2 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae31a)
    #3 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #4 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7f9489160000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa211)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f948a1dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7f9489161d48 by thread T3 (mutexes: write M80437):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/os0sync.ic:43:17 (mysqld+0x000000bb3767)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:106:8 (mysqld+0x000000bb35dc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0sync.ic:257:8 (mysqld+0x000000babc18)
    #4 rw_lock_x_unlock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/./../include/sync0rw.ic:437:2 (mysqld+0x000000baf255)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1914:3 (mysqld+0x000000bb1319)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f9489161d48 by main thread (mutexes: write M80459, write M80458):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c4afa7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4ae1c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:257:8 (mysqld+0x000000c483f8)
    #4 rw_lock_x_lock_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:507:2 (mysqld+0x000000c4a2a9)
    #5 buf_page_get_gen /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1249:3 (mysqld+0x000000bae31a)
    #6 fsp_get_space_header /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:329:31 (mysqld+0x000000be84f3)
    #7 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:993:11 (mysqld+0x000000be8685)
    #8 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #9 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #10 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #11 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #12 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 372768 at 0x7f9489160000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:582:21 (mysqld+0x000000baa211)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80437 (0x7f948a1dfcd8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:539:2 (mysqld+0x000000ba9fc4)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80459 (0x7f9489161d20) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000babf91)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa7cb)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M80458 (0x7f9489161cf8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 rw_lock_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0rw.c:100:2 (mysqld+0x000000c47abc)
    #5 buf_block_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:491:2 (mysqld+0x000000babf91)
    #6 buf_pool_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:636:3 (mysqld+0x000000baa7cb)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1247:9 (mysqld+0x000000a80418)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7f948a1e0958 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/os0sync.ic:43:17 (mysqld+0x000000c51647)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/./../include/sync0sync.ic:106:8 (mysqld+0x000000c4c5ac)
    #3 mutex_enter_nowait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:318:7 (mysqld+0x000000c4c540)
    #4 log_peek_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:3295:11 (mysqld+0x000000bd4ff6)
    #5 buf_page_is_corrupted /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:315:28 (mysqld+0x000000ba90e3)
    #6 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1845:7 (mysqld+0x000000bb0ea8)
    #7 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #8 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1e0958 by main thread (mutexes: write M81471, write M81470):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000bd5977)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000bd57ec)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bcad78)
    #4 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:143:2 (mysqld+0x000000bcac66)
    #5 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be86c2)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81471 (0x7f948a1e0930) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81470 (0x7f948a1e0908) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 log_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:744:2 (mysqld+0x000000bcccf3)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1259:2 (mysqld+0x000000a8047a)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x000002098ae0 by main thread (mutexes: write M81485):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c6415d)
    #3 hash_table_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ha/hash0hash.c:124:2 (mysqld+0x000000c5a51f)
    #4 recv_sys_empty_hash /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:186:2 (mysqld+0x000000bdcab4)
    #5 recv_apply_hashed_log_recs /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1454:2 (mysqld+0x000000bdc60f)
    #6 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1920:3 (mysqld+0x000000bcae49)
    #7 log_fsp_current_free_limit_set_and_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:154:13 (mysqld+0x000000bcace3)
    #8 fsp_header_get_free_limit /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fsp/fsp0fsp.c:999:2 (mysqld+0x000000be86c2)
    #9 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1496:3 (mysqld+0x000000a80d2a)
    #10 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #11 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #12 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #13 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098ae0 by thread T3 (mutexes: write M327, write M326):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 ut_free /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:228:2 (mysqld+0x000000c6415d)
    #3 os_aio_simulated_handle /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0file.c:4011:3 (mysqld+0x000000c71a12)
    #4 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4131:9 (mysqld+0x000000c0b69a)
    #5 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Location is global 'ut_list_mutex' of size 104 at 0x000002098a90 (mysqld+0x000002098ae0)

  Mutex M81485 (0x7f948a1e74d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 recv_sys_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:115:2 (mysqld+0x000000bd6cfc)
    #5 recv_recovery_from_checkpoint_start /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2593:3 (mysqld+0x000000be08ce)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1449:9 (mysqld+0x000000a80c92)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M327 (0x000002098ab8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c63f3b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63a88)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e468)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M326 (0x000002098a90) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 ut_mem_block_list_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:51:9 (mysqld+0x000000c63f3b)
    #4 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:76:10 (mysqld+0x000000c63a88)
    #5 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #6 srv_parse_data_file_paths_and_sizes /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:243:29 (mysqld+0x000000a7e468)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1290:15 (mysqld+0x000000945336)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x7f948a1e7550 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bd7530)
    #1 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd875a)
    #2 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb112c)
    #3 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1e7550 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7f948a1e7500 by thread T3:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/os0sync.ic:43:17 (mysqld+0x000000be4e37)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:106:8 (mysqld+0x000000be4cac)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:257:8 (mysqld+0x000000bd7548)
    #4 recv_recover_page /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:1103:2 (mysqld+0x000000bd875a)
    #5 buf_page_io_complete /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/buf/buf0buf.c:1883:4 (mysqld+0x000000bb112c)
    #6 fil_aio_wait /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/fil/fil0fil.c:4155:3 (mysqld+0x000000c0b84e)
    #7 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:446:3 (mysqld+0x000000a8190e)

  Previous write of size 8 at 0x7f948a1e7500 by main thread:
    [failed to restore the stack]

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x000002093cf0 by thread T2:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84450)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Previous write of size 8 at 0x000002093cf0 by thread T3:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a84450)
    #1 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093cf0)

  Thread T2 (tid=32748, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x000002093ca0 by thread T2:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a84607)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a856bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84468)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Previous write of size 8 at 0x000002093ca0 by thread T3 (mutexes: write M81481, write M81480):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a84607)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a856bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a84468)
    #4 io_handler_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:448:3 (mysqld+0x000000a8192e)

  Location is global 'ios_mutex' of size 240 at 0x000002093c48 (mysqld+0x000002093ca0)

  Mutex M81481 (0x000002093c78) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8346f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a80805)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M81480 (0x000002093c50) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 open_or_create_data_files /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:942:2 (mysqld+0x000000a8346f)
    #5 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1310:8 (mysqld+0x000000a80805)
    #6 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #7 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #8 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #9 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T2 (tid=32748, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T3 (tid=32749, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1268:3 (mysqld+0x000000a805ad)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d240000d750 by thread T5 (mutexes: write M20343):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:581:3 (mysqld+0x000000c68795)
    #4 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #5 trx_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:147:2 (mysqld+0x000000b8d01b)
    #6 sess_open /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/usr/usr0sess.c:42:14 (mysqld+0x000000ba83f8)
    #7 trx_rollback_or_clean_all_without_sess /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0roll.c:420:20 (mysqld+0x000000b80304)

  Previous write of size 8 at 0x7d240000d750 by main thread (mutexes: write M329, write M328):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:602:2 (mysqld+0x000000c68ee7)
    #2 os_mutex_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:497:2 (mysqld+0x000000c68851)
    #3 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:160:2 (mysqld+0x000000c69545)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Location is heap block of size 136 at 0x7d240000d6e0 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 ut_malloc /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:177:16 (mysqld+0x000000c63ff5)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:451:10 (mysqld+0x000000c673b6)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f948a1dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M329 (0x7d240000d728) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M328 (0x7d240000d700) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 os_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:453:2 (mysqld+0x000000c673c3)
    #4 os_sync_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:64:18 (mysqld+0x000000c6732b)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:975:2 (mysqld+0x000000a76451)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T5 (tid=32752, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 recv_recovery_from_checkpoint_finish /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0recv.c:2976:3 (mysqld+0x000000be3510)
    #3 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1501:3 (mysqld+0x000000a80d36)
    #4 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #5 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #6 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x000002097230 by thread T7:
    #0 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2077:27 (mysqld+0x000000a7aec6)

  Previous write of size 8 at 0x000002097230 by thread T6:
    #0 srv_lock_timeout_and_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1871:24 (mysqld+0x000000a7a599)

  Location is global 'srv_last_monitor_time' of size 8 at 0x000002097230 (mysqld+0x000002097230)

  Thread T7 (tid=32754, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T6 (tid=32753, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1551:2 (mysqld+0x000000a80df2)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2077:27 in srv_error_monitor_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x000002098628 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c42f50)
    #1 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43220)
    #2 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe7d5)
    #3 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2c31)
    #4 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81635)
    #5 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #6 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x000002098628 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 (mysqld+0x000000c42f50)
    #1 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c4319b)
    #2 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:723:2 (mysqld+0x000000a7cf8b)
    #3 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2202:2 (mysqld+0x000000a7b6e8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x000002098628)

  Thread T8 (tid=32755, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x0000020985d8 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c440f7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c43f6c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c42f68)
    #4 thr_local_get_in_ibuf_field /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:146:2 (mysqld+0x000000c43220)
    #5 ibuf_enter /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:229:8 (mysqld+0x000000abe7d5)
    #6 ibuf_update_max_tablespace_id /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ibuf/ibuf0ibuf.c:2450:2 (mysqld+0x000000ac2c31)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1728:3 (mysqld+0x000000a81635)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x0000020985d8 by thread T8 (mutexes: write M20341, write M20340):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/os0sync.ic:43:17 (mysqld+0x000000c440f7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:106:8 (mysqld+0x000000c43f6c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/./../include/sync0sync.ic:257:8 (mysqld+0x000000c42f68)
    #4 thr_local_set_slot_no /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:126:2 (mysqld+0x000000c4319b)
    #5 srv_table_reserve_slot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:723:2 (mysqld+0x000000a7cf8b)
    #6 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2202:2 (mysqld+0x000000a7b6e8)

  Location is global 'thr_local_mutex' of size 240 at 0x000002098580 (mysqld+0x0000020985d8)

  Mutex M20341 (0x0000020985b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c436a3)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:978:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20340 (0x000002098588) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 thr_local_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/thr/thr0loc.c:229:2 (mysqld+0x000000c436a3)
    #5 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:978:2 (mysqld+0x000000a76477)
    #6 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #7 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #8 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #9 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #10 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #11 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=32755, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x7f948a1dd350 by main thread:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 (mysqld+0x000000b8e480)
    #1 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98ce5)
    #2 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #3 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #4 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7f948a1dd350 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2220:2 (mysqld+0x000000a7b8e0)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=32755, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7f948a1dd300 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/os0sync.ic:43:17 (mysqld+0x000000b995b7)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:106:8 (mysqld+0x000000b9942c)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/./../include/sync0sync.ic:257:8 (mysqld+0x000000b8e498)
    #4 trx_recover_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/trx/trx0trx.c:1961:2 (mysqld+0x000000b98ce5)
    #5 innobase_xa_recover(xid_t*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:7231:9 (mysqld+0x000000947147)
    #6 ha_recover(st_hash*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:1011:17 (mysqld+0x000000925225)
    #7 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3134:7 (mysqld+0x000000707231)
    #8 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Previous write of size 8 at 0x7f948a1dd300 by thread T8 (mutexes: write M20343, write M20342):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 os_fast_mutex_trylock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/os0sync.ic:43:17 (mysqld+0x000000a7d347)
    #2 mutex_test_and_set /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:106:8 (mysqld+0x000000a7d1bc)
    #3 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:257:8 (mysqld+0x000000a74a78)
    #4 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2220:2 (mysqld+0x000000a7b8e0)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20343 (0x7f948a1dd2d8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Mutex M20342 (0x7f948a1dd2b0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 os_fast_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0sync.c:574:2 (mysqld+0x000000c68661)
    #3 mutex_create_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/sync/sync0sync.c:212:2 (mysqld+0x000000c4b3fe)
    #4 srv_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:872:2 (mysqld+0x000000a750ab)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1307:2 (mysqld+0x000000a776bb)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=32755, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 8 at 0x7f948a1e09a8 by thread T7:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 (mysqld+0x000000a74a60)
    #1 log_get_lsn /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/log0log.ic:377:2 (mysqld+0x000000a7b0ce)
    #2 srv_error_monitor_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2061:12 (mysqld+0x000000a7ad8e)

  Previous write of size 8 at 0x7f948a1e09a8 by thread T8:
    #0 mutex_enter_func /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/./../include/sync0sync.ic:254:21 (mysqld+0x000000bcad60)
    #1 log_checkpoint /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/log/log0log.c:1943:2 (mysqld+0x000000bcaf60)
    #2 srv_master_thread /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:2527:2 (mysqld+0x000000a7c8aa)

  Location is heap block of size 1048608 at 0x7f948a1dd000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:595 (mysqld+0x00000051c32f)
    #1 ut_malloc_low /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/ut/ut0mem.c:81:8 (mysqld+0x000000c63aa9)
    #2 mem_pool_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/mem0pool.c:202:14 (mysqld+0x000000c5f154)
    #3 mem_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/mem/./mem0dbg.c:137:18 (mysqld+0x000000c5c4b8)
    #4 srv_general_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:977:2 (mysqld+0x000000a76472)
    #5 srv_boot /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0srv.c:1303:2 (mysqld+0x000000a776b6)
    #6 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1168:8 (mysqld+0x000000a7fca7)
    #7 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #8 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #9 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #10 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T7 (tid=32754, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1555:2 (mysqld+0x000000a80e22)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

  Thread T8 (tid=32755, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 os_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/os/os0thread.c:167:8 (mysqld+0x000000c695ad)
    #2 innobase_start_or_create_for_mysql /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/srv0start.c:1586:2 (mysqld+0x000000a80efc)
    #3 innobase_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/ha_innodb.cc:1417:8 (mysqld+0x000000945de2)
    #4 ha_init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/handler.cc:488:29 (mysqld+0x000000921d80)
    #5 init_server_components() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3101:7 (mysqld+0x000000707019)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3427:7 (mysqld+0x000000704208)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/innobase/srv/./../include/sync0sync.ic:254:21 in mutex_enter_func
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x000002096e50 by thread T9:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 process_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:298:3 (mysqld+0x000000dc9734)
    #2 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2355:7 (mysqld+0x000000703c29)

  Previous write of size 8 at 0x000002096e50 by thread T10 (mutexes: write M81561, write M81560):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:156:3 (mysqld+0x000000dc8bc3)
    #2 my_real_read(st_net*, unsigned long*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/net_serv.cc:823:11 (mysqld+0x0000006eb6c6)
    #3 my_net_read /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/net_serv.cc:983:11 (mysqld+0x0000006ea3d5)
    #4 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:925:12 (mysqld+0x000000731d5a)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1142:16 (mysqld+0x00000072ff8e)

  Location is global 'LOCK_alarm' of size 104 at 0x000002096e00 (mysqld+0x000002096e50)

  Mutex M81561 (0x000002096e28) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:80:3 (mysqld+0x000000dc867d)
    #3 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2254:3 (mysqld+0x00000070373b)

  Mutex M81560 (0x000002096e00) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thr_alarm /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_alarm.c:80:3 (mysqld+0x000000dc867d)
    #3 signal_hand /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2254:3 (mysqld+0x00000070373b)

  Thread T9 (tid=32756, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 start_signal_handler() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2224:14 (mysqld+0x00000070860f)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3452:3 (mysqld+0x000000704291)

  Thread T10 (tid=32761, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x00000208a930 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 THD::init() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_class.cc:285:3 (mysqld+0x0000006d6c35)
    #2 THD::THD() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_class.cc:247:3 (mysqld+0x0000006d65f7)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4116:20 (mysqld+0x00000070949b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Previous write of size 8 at 0x00000208a930 by thread T23 (mutexes: write M270, write M269):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 check_user(THD*, enum_server_command, char const*, unsigned int, char const*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:316:3 (mysqld+0x000000728c45)
    #2 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1052:10 (mysqld+0x000000732ef5)
    #3 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1142:16 (mysqld+0x00000072ff8e)

  Location is global 'LOCK_global_system_variables' of size 104 at 0x00000208a8e0 (mysqld+0x00000208a930)

  Mutex M270 (0x00000208a908) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2803:10 (mysqld+0x00000070b3e3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M269 (0x00000208a8e0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2803:10 (mysqld+0x00000070b3e3)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T23 (tid=2557, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x00000208a450 by main thread:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 sql_rnd_with_mutex() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/./mysql_priv.h:1572:3 (mysqld+0x00000065925f)
    #2 THD::THD() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_class.cc:271:13 (mysqld+0x0000006d67d8)
    #3 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4116:20 (mysqld+0x00000070949b)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Previous write of size 8 at 0x00000208a450 by thread T23 (mutexes: write M244, write M243):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 end_thread(THD*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:1643:10 (mysqld+0x000000702941)
    #2 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1205:5 (mysqld+0x000000730a9a)

  Location is global 'LOCK_thread_count' of size 104 at 0x00000208a400 (mysqld+0x00000208a450)

  Mutex M244 (0x00000208a428) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M243 (0x00000208a400) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2790:10 (mysqld+0x00000070b1c0)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T23 (tid=2557, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x7d3c0000ecd0 by thread T27:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 acl_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:572:5 (mysqld+0x0000008a92fb)
    #2 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6740:13 (mysqld+0x0000007378f0)
    #3 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #4 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #5 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #6 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #7 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous write of size 8 at 0x7d3c0000ecd0 by thread T24 (mutexes: write M81582, write M81581):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 acl_getroot(THD*, user_resources*, char const*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:749:3 (mysqld+0x0000008ac183)
    #2 check_user(THD*, enum_server_command, char const*, unsigned int, char const*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:344:12 (mysqld+0x000000728dd2)
    #3 check_connection(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1052:10 (mysqld+0x000000732ef5)
    #4 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1142:16 (mysqld+0x00000072ff8e)

  Location is heap block of size 240 at 0x7d3c0000ec40 allocated by main thread:
    #0 operator new(unsigned long) /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_new_delete.cc:45 (mysqld+0x000000582303)
    #1 acl_init(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:149:14 (mysqld+0x0000008a8cff)
    #2 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3453:7 (mysqld+0x0000007042b6)

  Mutex M81582 (0x7d3c0000eca8) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 hash_filo::clear(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/./hash_filo.h:76:14 (mysqld+0x000000714ac2)
    #3 acl_load(THD*, st_table_list*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:207:3 (mysqld+0x0000008a981a)
    #4 acl_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:581:20 (mysqld+0x0000008a93f8)
    #5 acl_init(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:171:15 (mysqld+0x0000008a8e91)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3453:7 (mysqld+0x0000007042b6)

  Mutex M81581 (0x7d3c0000ec80) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 hash_filo::clear(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/./hash_filo.h:76:14 (mysqld+0x000000714ac2)
    #3 acl_load(THD*, st_table_list*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:207:3 (mysqld+0x0000008a981a)
    #4 acl_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:581:20 (mysqld+0x0000008a93f8)
    #5 acl_init(bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:171:15 (mysqld+0x0000008a8e91)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3453:7 (mysqld+0x0000007042b6)

  Thread T27 (tid=2571, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T24 (tid=2570, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Write of size 4 at 0x0000020885b8 by thread T24:
    #0 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6720:16 (mysqld+0x000000737758)
    #1 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #2 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #3 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #4 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous write of size 4 at 0x0000020885b8 by thread T27:
    #0 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6720:16 (mysqld+0x000000737758)
    #1 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #2 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #3 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #4 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #5 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Location is global 'select_errors' of size 4 at 0x0000020885b8 (mysqld+0x0000020885b8)

  Thread T24 (tid=2570, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T27 (tid=2571, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6720:16 in reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x00000208eb58 by thread T24:
    #0 check_stack_overrun(THD*, long, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5583:19 (mysqld+0x000000751ea6)
    #1 open_table(THD*, st_table_list*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:1193:7 (mysqld+0x0000007b4499)
    #2 open_tables(THD*, st_table_list**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2160:19 (mysqld+0x0000007b97d4)
    #3 simple_open_n_lock_tables(THD*, st_table_list*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2413:9 (mysqld+0x0000007ba9cc)
    #4 acl_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:564:7 (mysqld+0x0000008a9266)
    #5 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6740:13 (mysqld+0x0000007378f0)
    #6 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #7 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #8 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #9 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #10 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous write of size 8 at 0x00000208eb58 by thread T27:
    #0 check_stack_overrun(THD*, long, char*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5583:17 (mysqld+0x000000751f29)
    #1 open_table(THD*, st_table_list*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:1193:7 (mysqld+0x0000007b4499)
    #2 open_tables(THD*, st_table_list**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2160:19 (mysqld+0x0000007b97d4)
    #3 simple_open_n_lock_tables(THD*, st_table_list*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2413:9 (mysqld+0x0000007ba9cc)
    #4 grant_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:3501:7 (mysqld+0x0000008bdc12)
    #5 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6741:13 (mysqld+0x000000737908)
    #6 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #7 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #8 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #9 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #10 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Location is global 'max_stack_used' of size 8 at 0x00000208eb58 (mysqld+0x00000208eb58)

  Thread T24 (tid=2570, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T27 (tid=2571, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5583:19 in check_stack_overrun(THD*, long, char*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x00000208a3e8 by thread T24:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 open_table(THD*, st_table_list*, st_mem_root*, bool*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:1331:3 (mysqld+0x0000007b58e0)
    #2 open_tables(THD*, st_table_list**, unsigned int*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2160:19 (mysqld+0x0000007b97d4)
    #3 simple_open_n_lock_tables(THD*, st_table_list*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:2413:9 (mysqld+0x0000007ba9cc)
    #4 acl_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:564:7 (mysqld+0x0000008a9266)
    #5 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6740:13 (mysqld+0x0000007378f0)
    #6 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #7 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #8 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #9 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #10 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous write of size 8 at 0x00000208a3e8 by thread T27 (mutexes: write M242, write M241):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 close_thread_tables(THD*, bool, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_base.cc:517:5 (mysqld+0x0000007ae6fd)
    #2 grant_reload(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_acl.cc:3531:3 (mysqld+0x0000008bdf15)
    #3 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6741:13 (mysqld+0x000000737908)
    #4 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #5 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #6 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #7 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #8 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Location is global 'LOCK_open' of size 104 at 0x00000208a398 (mysqld+0x00000208a3e8)

  Mutex M242 (0x00000208a3c0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2789:10 (mysqld+0x00000070b195)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M241 (0x00000208a398) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2789:10 (mysqld+0x00000070b195)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T24 (tid=2570, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T27 (tid=2571, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=32745)
  Read of size 8 at 0x00000208a998 by thread T24:
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 (mysqld+0x000000dd222e)
    #1 reset_mqh(st_lex_user*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:743:10 (mysqld+0x000000750eaa)
    #2 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6750:5 (mysqld+0x0000007379bd)
    #3 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #4 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #5 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #6 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #7 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Previous write of size 8 at 0x00000208a998 by thread T25 (mutexes: write M266, write M265):
    #0 safe_mutex_lock /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:132:11 (mysqld+0x000000dd2598)
    #1 reset_mqh(st_lex_user*, bool) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:743:10 (mysqld+0x000000750eaa)
    #2 reload_acl_and_cache(THD*, unsigned long, st_table_list*, bool*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:6750:5 (mysqld+0x0000007379bd)
    #3 mysql_execute_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:4037:10 (mysqld+0x000000745582)
    #4 mysql_parse(THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:5870:4 (mysqld+0x0000007346fc)
    #5 dispatch_command(enum_server_command, THD*, char*, unsigned int) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1766:5 (mysqld+0x00000072ccf0)
    #6 do_command(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1550:3 (mysqld+0x0000007333d8)
    #7 handle_one_connection /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/sql_parse.cc:1181:11 (mysqld+0x0000007304ac)

  Location is global 'LOCK_user_conn' of size 104 at 0x00000208a948 (mysqld+0x00000208a998)

  Mutex M266 (0x00000208a970) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:62:3 (mysqld+0x000000dd2126)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2801:10 (mysqld+0x00000070b38d)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Mutex M265 (0x00000208a948) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1169 (mysqld+0x0000005107b5)
    #1 safe_mutex_init /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:61:3 (mysqld+0x000000dd210f)
    #2 init_thread_environment() /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2801:10 (mysqld+0x00000070b38d)
    #3 init_common_variables(char const*, int, char**, char const**) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:2577:7 (mysqld+0x0000007049ab)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3329:7 (mysqld+0x000000703df0)

  Thread T24 (tid=2570, running) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

  Thread T25 (tid=2582, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.8.0.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:954 (mysqld+0x0000005255c3)
    #1 create_new_thread(THD*) /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3894:18 (mysqld+0x000000709dcb)
    #2 handle_connections_sockets /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:4146:5 (mysqld+0x0000007096ef)
    #3 main /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/sql/mysqld.cc:3525:3 (mysqld+0x0000007046bf)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/mysql-24988/mysql-5.0.27/mysys/thr_mutex.c:98:12 in safe_mutex_lock
==================
